#include "processors/CircuitSimulatorInterface.h"
#include "TestingUtils.h"
#include "physical_models/WindingLosses.h"
#include "physical_models/WindingOhmicLosses.h"
#include "processors/Sweeper.h"
#include "support/Painter.h"
#include <UnitTest++.h>

using namespace MAS;
using namespace OpenMagnetics;


SUITE(CircuitSimulatorExporterSimba) {
    double max_error = 0.01;
    auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");

    TEST(Test_CircuitSimulatorExporter_Simba_Only_Magnetic) {
        std::vector<int64_t> numberTurns = {30, 10, 5, 1};
        std::vector<int64_t> numberParallels = {1, 1, 1, 2};
        std::string shapeName = "PQ 35/35";

        auto coil = OpenMagneticsTesting::get_quick_coil(numberTurns,
                                                         numberParallels,
                                                         shapeName);
        coil.get_mutable_functional_description()[3].set_isolation_side(MAS::IsolationSide::PRIMARY);

        int64_t numberStacks = 1;
        std::string coreMaterial = "95";
        auto gapping = OpenMagneticsTesting::get_distributed_gap(0.0003, 3);
        auto core = OpenMagneticsTesting::get_quick_core(shapeName, gapping, numberStacks, coreMaterial);
        OpenMagnetics::Magnetic magnetic;
        magnetic.set_core(core);
        magnetic.set_coil(coil);

        std::string filePath = __FILE__;
        auto flyback_jsimba_path = filePath.substr(0, filePath.rfind("/")).append("/testData/flyback.jsimba");
        auto jsimbaFile = outputFilePath;
        jsimbaFile.append("./Test_CircuitSimulatorExporter_Simba_Only_Magnetic.jsimba");

        std::filesystem::remove(jsimbaFile);
        CircuitSimulatorExporter().export_magnetic_as_subcircuit(magnetic, 10000, 100, jsimbaFile);
        CHECK(std::filesystem::exists(jsimbaFile));
    }

    TEST(Test_CircuitSimulatorExporter) {
        std::vector<int64_t> numberTurns = {30, 10};
        std::vector<int64_t> numberParallels = {1, 1};
        std::string shapeName = "PQ 35/35";

        auto coil = OpenMagneticsTesting::get_quick_coil(numberTurns,
                                                         numberParallels,
                                                         shapeName);

        int64_t numberStacks = 1;
        std::string coreMaterial = "95";
        auto gapping = OpenMagneticsTesting::get_distributed_gap(0.0003, 3);
        auto core = OpenMagneticsTesting::get_quick_core(shapeName, gapping, numberStacks, coreMaterial);
        OpenMagnetics::Magnetic magnetic;
        magnetic.set_core(core);
        magnetic.set_coil(coil);

        std::string filePath = __FILE__;
        auto flyback_jsimba_path = filePath.substr(0, filePath.rfind("/")).append("/testData/flyback.jsimba");
        auto jsimbaFile = outputFilePath;
        jsimbaFile.append("./Test_CircuitSimulatorExporter.jsimba");

        std::filesystem::remove(jsimbaFile);
        CircuitSimulatorExporter().export_magnetic_as_subcircuit(magnetic, 10000, 100, jsimbaFile, flyback_jsimba_path);
        CHECK(std::filesystem::exists(jsimbaFile));
    }

    TEST(Test_CircuitSimulatorExporter_Simba_Json_Ur) {
        OpenMagnetics::Magnetic magnetic(json::parse(R"({"coil": {"bobbin": {"distributorsInfo": null, "functionalDescription": null, "manufacturerInfo": null, "name": null, "processedDescription": {"columnDepth": 0.00984723880815594, "columnShape": "round", "columnThickness": 0.0024972388081559403, "columnWidth": 0.00984723880815594, "coordinates": [0, 0, 0 ], "pins": null, "wallThickness": 0.0018443359374999985, "windingWindows": [{"angle": null, "area": 0.0003410717315402637, "coordinates": [0.015548619404077969, 0, 0 ], "height": 0.029911328125, "radialHeight": null, "sectionsAlignment": "inner or top", "sectionsOrientation": "overlapping", "shape": "rectangular", "width": 0.011402761191844059 } ] } }, "functionalDescription": [{"connections": null, "isolationSide": "primary", "name": "Primary", "numberParallels": 1, "numberTurns": 18, "wire": {"coating": {"breakdownVoltage": 7400, "grade": 3, "material": null, "numberLayers": null, "temperatureRating": null, "thickness": null, "thicknessLayers": null, "type": "enamelled" }, "conductingArea": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.000006632558684592654 }, "conductingDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.002906 }, "conductingHeight": null, "conductingWidth": null, "edgeRadius": null, "manufacturerInfo": {"cost": null, "datasheetUrl": null, "family": null, "name": "Nearson", "orderCode": null, "reference": null, "status": null }, "material": "copper", "name": "Round 9.0 - Triple Build", "numberConductors": 1, "outerDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.003025 }, "outerHeight": null, "outerWidth": null, "standard": "NEMA MW 1000 C", "standardName": "9 AWG", "strand": null, "type": "round" } }, {"connections": null, "isolationSide": "secondary", "name": "Secondary", "numberParallels": 1, "numberTurns": 6, "wire": {"coating": {"breakdownVoltage": 4600, "grade": 2, "material": null, "numberLayers": null, "temperatureRating": null, "thickness": null, "thicknessLayers": null, "type": "enamelled" }, "conductingArea": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.000014936954384303123 }, "conductingDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.004361 }, "conductingHeight": null, "conductingWidth": null, "edgeRadius": null, "manufacturerInfo": {"cost": null, "datasheetUrl": null, "family": null, "name": "Nearson", "orderCode": null, "reference": null, "status": null }, "material": "copper", "name": "Round 5.5 - Heavy Build", "numberConductors": 1, "outerDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.004453 }, "outerHeight": null, "outerWidth": null, "standard": "NEMA MW 1000 C", "standardName": "5.5 AWG", "strand": null, "type": "round" } } ], "layersDescription": [{"additionalCoordinates": null, "coordinateSystem": "cartesian", "coordinates": [0.01135973880815594, 8.673617379884035e-19 ], "dimensions": [0.003025, 0.029612847999999997 ], "fillingFactor": 0.9101902759458295, "insulationMaterial": null, "name": "Primary section 0 layer 0", "orientation": "overlapping", "partialWindings": [{"connections": null, "parallelsProportion": [0.5 ], "winding": "Primary" } ], "section": "Primary section 0", "turnsAlignment": "spread", "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"additionalCoordinates": null, "coordinateSystem": "cartesian", "coordinates": [0.014384738808155939, 8.673617379884035e-19 ], "dimensions": [0.003025, 0.029612847999999997 ], "fillingFactor": 0.9101902759458295, "insulationMaterial": null, "name": "Primary section 0 layer 1", "orientation": "overlapping", "partialWindings": [{"connections": null, "parallelsProportion": [0.5 ], "winding": "Primary" } ], "section": "Primary section 0", "turnsAlignment": "spread", "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"additionalCoordinates": null, "coordinateSystem": "cartesian", "coordinates": [0.015909739000000003, 0 ], "dimensions": [0.000025, 0.029911328125 ], "fillingFactor": 1, "insulationMaterial": null, "name": "Insulation between Primary and Secondary section 1 layer 0", "orientation": "overlapping", "partialWindings": [], "section": "Insulation between Primary and Secondary section 1", "turnsAlignment": "spread", "type": "insulation", "windingStyle": null }, {"additionalCoordinates": null, "coordinateSystem": "cartesian", "coordinates": [0.018148738808155936, 0 ], "dimensions": [0.004453, 0.029379105 ], "fillingFactor": 0.8932401760411633, "insulationMaterial": null, "name": "Secondary section 0 layer 0", "orientation": "overlapping", "partialWindings": [{"connections": null, "parallelsProportion": [1 ], "winding": "Secondary" } ], "section": "Secondary section 0", "turnsAlignment": "spread", "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"additionalCoordinates": null, "coordinateSystem": "cartesian", "coordinates": [0.020387739, 0 ], "dimensions": [0.000025, 0.029911328125 ], "fillingFactor": 1, "insulationMaterial": null, "name": "Insulation between Secondary and Primary section 3 layer 0", "orientation": "overlapping", "partialWindings": [], "section": "Insulation between Secondary and Primary section 3", "turnsAlignment": "spread", "type": "insulation", "windingStyle": null } ], "sectionsDescription": [{"coordinateSystem": "cartesian", "coordinates": [0.012872238808155939, 0 ], "dimensions": [0.00605, 0.029612847999999997 ], "fillingFactor": 0.8961202985443377, "layersAlignment": null, "layersOrientation": "overlapping", "margin": [0, 0 ], "name": "Primary section 0", "partialWindings": [{"connections": null, "parallelsProportion": [1 ], "winding": "Primary" } ], "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"coordinateSystem": "cartesian", "coordinates": [0.015909738808155938, 0 ], "dimensions": [0.000025, 0.029911328125 ], "fillingFactor": 1, "layersAlignment": null, "layersOrientation": "overlapping", "margin": null, "name": "Insulation between Primary and Secondary section 1", "partialWindings": [], "type": "insulation", "windingStyle": null }, {"coordinateSystem": "cartesian", "coordinates": [0.018148738808155936, 0 ], "dimensions": [0.004453, 0.029379105 ], "fillingFactor": 0.7601324927163435, "layersAlignment": null, "layersOrientation": "overlapping", "margin": [0, 0 ], "name": "Secondary section 0", "partialWindings": [{"connections": null, "parallelsProportion": [1 ], "winding": "Secondary" } ], "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"coordinateSystem": "cartesian", "coordinates": [0.020387738808155934, 0 ], "dimensions": [0.000025, 0.029911328125 ], "fillingFactor": 1, "layersAlignment": null, "layersOrientation": "overlapping", "margin": null, "name": "Insulation between Secondary and Primary section 3", "partialWindings": [], "type": "insulation", "windingStyle": null } ], "turnsDescription": [{"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.01135973880815594, 0.013293924 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 0", "length": 0.07137534397280314, "name": "Primary parallel 0 turn 0", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.01135973880815594, 0.009970443 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 0", "length": 0.07137534397280314, "name": "Primary parallel 0 turn 1", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.01135973880815594, 0.006646962000000001 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 0", "length": 0.07137534397280314, "name": "Primary parallel 0 turn 2", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.01135973880815594, 0.003323481000000001 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 0", "length": 0.07137534397280314, "name": "Primary parallel 0 turn 3", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.01135973880815594, 8.673617379884035e-19 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 0", "length": 0.07137534397280314, "name": "Primary parallel 0 turn 4", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.01135973880815594, -0.0033234809999999997 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 0", "length": 0.07137534397280314, "name": "Primary parallel 0 turn 5", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.01135973880815594, -0.006646961999999999 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 0", "length": 0.07137534397280314, "name": "Primary parallel 0 turn 6", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.01135973880815594, -0.009970442999999999 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 0", "length": 0.07137534397280314, "name": "Primary parallel 0 turn 7", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.01135973880815594, -0.013293923999999999 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 0", "length": 0.07137534397280314, "name": "Primary parallel 0 turn 8", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.014384738808155939, 0.013293924 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 1", "length": 0.09038197952702139, "name": "Primary parallel 0 turn 9", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.014384738808155939, 0.009970443 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 1", "length": 0.09038197952702139, "name": "Primary parallel 0 turn 10", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.014384738808155939, 0.006646962000000001 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 1", "length": 0.09038197952702139, "name": "Primary parallel 0 turn 11", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.014384738808155939, 0.003323481000000001 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 1", "length": 0.09038197952702139, "name": "Primary parallel 0 turn 12", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.014384738808155939, 8.673617379884035e-19 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 1", "length": 0.09038197952702139, "name": "Primary parallel 0 turn 13", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.014384738808155939, -0.0033234809999999997 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 1", "length": 0.09038197952702139, "name": "Primary parallel 0 turn 14", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.014384738808155939, -0.006646961999999999 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 1", "length": 0.09038197952702139, "name": "Primary parallel 0 turn 15", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.014384738808155939, -0.009970442999999999 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 1", "length": 0.09038197952702139, "name": "Primary parallel 0 turn 16", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.014384738808155939, -0.013293923999999999 ], "dimensions": [0.003025, 0.003025 ], "layer": "Primary section 0 layer 1", "length": 0.09038197952702139, "name": "Primary parallel 0 turn 17", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.018148738808155936, 0.012463052499999999 ], "dimensions": [0.004453, 0.004453 ], "layer": "Secondary section 0 layer 0", "length": 0.11403188902324533, "name": "Secondary parallel 0 turn 0", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.018148738808155936, 0.007477831499999999 ], "dimensions": [0.004453, 0.004453 ], "layer": "Secondary section 0 layer 0", "length": 0.11403188902324533, "name": "Secondary parallel 0 turn 1", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.018148738808155936, 0.002492610499999999 ], "dimensions": [0.004453, 0.004453 ], "layer": "Secondary section 0 layer 0", "length": 0.11403188902324533, "name": "Secondary parallel 0 turn 2", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.018148738808155936, -0.0024926105000000007 ], "dimensions": [0.004453, 0.004453 ], "layer": "Secondary section 0 layer 0", "length": 0.11403188902324533, "name": "Secondary parallel 0 turn 3", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.018148738808155936, -0.0074778315000000005 ], "dimensions": [0.004453, 0.004453 ], "layer": "Secondary section 0 layer 0", "length": 0.11403188902324533, "name": "Secondary parallel 0 turn 4", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.018148738808155936, -0.0124630525 ], "dimensions": [0.004453, 0.004453 ], "layer": "Secondary section 0 layer 0", "length": 0.11403188902324533, "name": "Secondary parallel 0 turn 5", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" } ] }, "core": {"distributorsInfo": null, "functionalDescription": {"coating": null, "gapping": [{"area": 0.00017, "coordinates": [0, 0, 0 ], "distanceClosestNormalSurface": 0.016655, "distanceClosestParallelSurface": 0.0139, "length": 0.00029, "sectionDimensions": [0.0147, 0.0147 ], "shape": "round", "type": "subtractive" }, {"area": 0.000132, "coordinates": [0.0254, 0, 0 ], "distanceClosestNormalSurface": 0.0168, "distanceClosestParallelSurface": 0.0139, "length": 0.000005, "sectionDimensions": [0.0073, 0.018 ], "shape": "rectangular", "type": "residual" } ], "material": {"bhCycle": null, "coerciveForce": [{"magneticField": 9, "magneticFluxDensity": 0, "temperature": 100 }, {"magneticField": 13, "magneticFluxDensity": 0, "temperature": 25 } ], "curieTemperature": 215, "density": 4800, "family": "3C", "heatCapacity": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 800, "minimum": 700, "nominal": null }, "heatConductivity": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 5, "minimum": 3.5, "nominal": null }, "manufacturerInfo": {"cost": null, "datasheetUrl": "https://www.ferroxcube.com/upload/media/product/file/MDS/3c95.pdf", "family": null, "name": "Ferroxcube", "orderCode": null, "reference": null, "status": null }, "material": "ferrite", "materialComposition": null, "name": "3C95", "permeability": {"amplitude": null, "complex": {"imaginary": [{"frequency": 100000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 19.46 }, {"frequency": 120000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 21.134999999999998 }, {"frequency": 150000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 23.259999999999998 }, {"frequency": 200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 28.755000000000003 }, {"frequency": 250000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 35.815 }, {"frequency": 300000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 44.47 }, {"frequency": 450000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 90.15 }, {"frequency": 400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 69.875 }, {"frequency": 500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 118.9 }, {"frequency": 550000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 161.3 }, {"frequency": 600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 223.14999999999998 }, {"frequency": 650000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 311.45000000000005 }, {"frequency": 700000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 421.35 }, {"frequency": 750000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 554.85 }, {"frequency": 800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 704.9000000000001 }, {"frequency": 850000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 864 }, {"frequency": 900000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1031.6 }, {"frequency": 950000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1208.5 }, {"frequency": 1000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1391 }, {"frequency": 1100000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1796.5 }, {"frequency": 1200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2223.5 }, {"frequency": 1300000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2638.5 }, {"frequency": 1400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2993 }, {"frequency": 1500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3247.5 }, {"frequency": 1600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3383.5 }, {"frequency": 1700000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3407.5 }, {"frequency": 1800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3338.5 }, {"frequency": 1900000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3204.5 }, {"frequency": 2000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3032 }, {"frequency": 2200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2651 }, {"frequency": 2400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2295 }, {"frequency": 2600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1992 }, {"frequency": 2800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1743 }, {"frequency": 3000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1541.5 }, {"frequency": 3500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1180 }, {"frequency": 4000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 949.7 }, {"frequency": 4500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 793.5 }, {"frequency": 5000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 683 }, {"frequency": 6000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 539.1500000000001 }, {"frequency": 7000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 449.2 }, {"frequency": 8000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 385.6 }, {"frequency": 9000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 336.5 }, {"frequency": 10000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 296.75 }, {"frequency": 15000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 175.3 }, {"frequency": 20000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 118.05 }, {"frequency": 25000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 87.095 }, {"frequency": 30000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 68.445 } ], "real": [{"frequency": 100000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2815.5 }, {"frequency": 120000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2817.5 }, {"frequency": 150000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2825.5 }, {"frequency": 200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2843.5 }, {"frequency": 250000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2869.5 }, {"frequency": 300000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2902.5 }, {"frequency": 450000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3057.5 }, {"frequency": 400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2994.5 }, {"frequency": 500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3130.5 }, {"frequency": 550000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3215.5 }, {"frequency": 600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3311.5 }, {"frequency": 650000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3409 }, {"frequency": 700000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3503.5 }, {"frequency": 750000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3584.5 }, {"frequency": 800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3649.5 }, {"frequency": 850000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3698.5 }, {"frequency": 900000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3734.5 }, {"frequency": 950000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3756.5 }, {"frequency": 1000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3763 }, {"frequency": 1100000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3732.5 }, {"frequency": 1200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3601 }, {"frequency": 1300000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3356.5 }, {"frequency": 1400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3004.5 }, {"frequency": 1500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2574 }, {"frequency": 1600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2108 }, {"frequency": 1700000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1656 }, {"frequency": 1800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1243.5 }, {"frequency": 1900000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 892.6500000000001 }, {"frequency": 2000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 606.45 }, {"frequency": 2200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 208.2 }, {"frequency": 2400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -18.8 }, {"frequency": 2600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -141.65 }, {"frequency": 2800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -203.9 }, {"frequency": 3000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -232.14999999999998 }, {"frequency": 3500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -236.05 }, {"frequency": 4000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -208 }, {"frequency": 4500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -175.65 }, {"frequency": 5000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -146.75 }, {"frequency": 6000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -104.5 }, {"frequency": 7000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -79.685 }, {"frequency": 8000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -65.68 }, {"frequency": 9000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -57.129999999999995 }, {"frequency": 10000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -50.965 }, {"frequency": 15000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -27.78 }, {"frequency": 20000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -10.3065 }, {"frequency": 25000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1.954 }, {"frequency": 30000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 10.3895 } ] }, "initial": [{"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": -40, "tolerance": null, "value": 2737 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": -30, "tolerance": null, "value": 2739 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": -20, "tolerance": null, "value": 2710 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": -10, "tolerance": null, "value": 2723 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 0, "tolerance": null, "value": 2765 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 10, "tolerance": null, "value": 2841 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 20, "tolerance": null, "value": 2931 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 30, "tolerance": null, "value": 3091 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 40, "tolerance": null, "value": 3217 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 50, "tolerance": null, "value": 3345 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 60, "tolerance": null, "value": 3478 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 70, "tolerance": null, "value": 3562 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 80, "tolerance": null, "value": 3677 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 90, "tolerance": null, "value": 3787 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 100, "tolerance": null, "value": 3880 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 110, "tolerance": null, "value": 4001 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 120, "tolerance": null, "value": 4018 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 130, "tolerance": null, "value": 4021 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 140, "tolerance": null, "value": 4019 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 150, "tolerance": null, "value": 3945 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 160, "tolerance": null, "value": 3959 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 170, "tolerance": null, "value": 3990 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 180, "tolerance": null, "value": 4031 } ] }, "remanence": [{"magneticField": 0, "magneticFluxDensity": 0.095, "temperature": 100 }, {"magneticField": 0, "magneticFluxDensity": 0.155, "temperature": 25 } ], "resistivity": [{"temperature": 25, "value": 5 } ], "saturation": [{"magneticField": 1200, "magneticFluxDensity": 0.41, "temperature": 100 }, {"magneticField": 1200, "magneticFluxDensity": 0.53, "temperature": 25 } ], "type": "commercial", "volumetricLosses": {"default": [{"a": null, "b": null, "c": null, "coefficients": {"excessLossesCoefficient": 2.58363536e-20, "resistivityFrequencyCoefficient": 1.14639713e-7, "resistivityMagneticFluxDensityCoefficient": 2.03852055e-20, "resistivityOffset": 0.1586255, "resistivityTemperatureCoefficient": 0.000343492936 }, "d": null, "factors": null, "method": "roshen", "ranges": null, "referenceVolumetricLosses": null }, {"a": null, "b": null, "c": null, "coefficients": null, "d": null, "factors": null, "method": "steinmetz", "ranges": [{"alpha": 1.045, "beta": 2.44, "ct0": 1.3323629592000001, "ct1": 0.007940000000000001, "ct2": 0.000046200000000000005, "k": 92.16643453, "maximumFrequency": 150000, "minimumFrequency": 1 }, {"alpha": 1.955, "beta": 3.07, "ct0": 1.6542307692, "ct1": 0.0126, "ct2": 0.0000606, "k": 0.007470000000000001, "maximumFrequency": 300000, "minimumFrequency": 150000 }, {"alpha": 2.055, "beta": 2.535, "ct0": 1.0229198866, "ct1": 0.00978, "ct2": 0.00009550000000000003, "k": 0.0007869999999990001, "maximumFrequency": 400001, "minimumFrequency": 300000 } ], "referenceVolumetricLosses": null } ] } }, "numberStacks": 1, "shape": {"aliases": [], "dimensions": {"A": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0369 }, "B": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0257 }, "C": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.018 }, "D": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0168 }, "E": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": 0.0139, "nominal": null }, "F": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0147 }, "H": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0073 } }, "family": "ur", "familySubtype": "3", "magneticCircuit": "open", "name": "UR 37/26/18", "type": "standard" }, "type": "two-piece set", "magneticCircuit": "open" }, "geometricalDescription": [{"coordinates": [0, 0, 0 ], "dimensions": null, "insulationMaterial": null, "machining": [{"coordinates": [0, 0.0000725, 0 ], "length": 0.000145 } ], "material": {"bhCycle": null, "coerciveForce": [{"magneticField": 9, "magneticFluxDensity": 0, "temperature": 100 }, {"magneticField": 13, "magneticFluxDensity": 0, "temperature": 25 } ], "curieTemperature": 215, "density": 4800, "family": "3C", "heatCapacity": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 800, "minimum": 700, "nominal": null }, "heatConductivity": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 5, "minimum": 3.5, "nominal": null }, "manufacturerInfo": {"cost": null, "datasheetUrl": "https://www.ferroxcube.com/upload/media/product/file/MDS/3c95.pdf", "family": null, "name": "Ferroxcube", "orderCode": null, "reference": null, "status": null }, "material": "ferrite", "materialComposition": null, "name": "3C95", "permeability": {"amplitude": null, "complex": {"imaginary": [{"frequency": 100000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 19.46 }, {"frequency": 120000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 21.134999999999998 }, {"frequency": 150000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 23.259999999999998 }, {"frequency": 200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 28.755000000000003 }, {"frequency": 250000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 35.815 }, {"frequency": 300000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 44.47 }, {"frequency": 450000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 90.15 }, {"frequency": 400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 69.875 }, {"frequency": 500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 118.9 }, {"frequency": 550000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 161.3 }, {"frequency": 600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 223.14999999999998 }, {"frequency": 650000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 311.45000000000005 }, {"frequency": 700000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 421.35 }, {"frequency": 750000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 554.85 }, {"frequency": 800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 704.9000000000001 }, {"frequency": 850000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 864 }, {"frequency": 900000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1031.6 }, {"frequency": 950000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1208.5 }, {"frequency": 1000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1391 }, {"frequency": 1100000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1796.5 }, {"frequency": 1200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2223.5 }, {"frequency": 1300000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2638.5 }, {"frequency": 1400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2993 }, {"frequency": 1500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3247.5 }, {"frequency": 1600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3383.5 }, {"frequency": 1700000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3407.5 }, {"frequency": 1800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3338.5 }, {"frequency": 1900000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3204.5 }, {"frequency": 2000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3032 }, {"frequency": 2200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2651 }, {"frequency": 2400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2295 }, {"frequency": 2600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1992 }, {"frequency": 2800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1743 }, {"frequency": 3000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1541.5 }, {"frequency": 3500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1180 }, {"frequency": 4000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 949.7 }, {"frequency": 4500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 793.5 }, {"frequency": 5000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 683 }, {"frequency": 6000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 539.1500000000001 }, {"frequency": 7000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 449.2 }, {"frequency": 8000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 385.6 }, {"frequency": 9000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 336.5 }, {"frequency": 10000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 296.75 }, {"frequency": 15000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 175.3 }, {"frequency": 20000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 118.05 }, {"frequency": 25000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 87.095 }, {"frequency": 30000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 68.445 } ], "real": [{"frequency": 100000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2815.5 }, {"frequency": 120000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2817.5 }, {"frequency": 150000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2825.5 }, {"frequency": 200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2843.5 }, {"frequency": 250000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2869.5 }, {"frequency": 300000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2902.5 }, {"frequency": 450000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3057.5 }, {"frequency": 400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2994.5 }, {"frequency": 500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3130.5 }, {"frequency": 550000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3215.5 }, {"frequency": 600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3311.5 }, {"frequency": 650000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3409 }, {"frequency": 700000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3503.5 }, {"frequency": 750000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3584.5 }, {"frequency": 800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3649.5 }, {"frequency": 850000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3698.5 }, {"frequency": 900000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3734.5 }, {"frequency": 950000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3756.5 }, {"frequency": 1000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3763 }, {"frequency": 1100000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3732.5 }, {"frequency": 1200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3601 }, {"frequency": 1300000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3356.5 }, {"frequency": 1400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3004.5 }, {"frequency": 1500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2574 }, {"frequency": 1600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2108 }, {"frequency": 1700000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1656 }, {"frequency": 1800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1243.5 }, {"frequency": 1900000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 892.6500000000001 }, {"frequency": 2000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 606.45 }, {"frequency": 2200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 208.2 }, {"frequency": 2400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -18.8 }, {"frequency": 2600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -141.65 }, {"frequency": 2800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -203.9 }, {"frequency": 3000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -232.14999999999998 }, {"frequency": 3500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -236.05 }, {"frequency": 4000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -208 }, {"frequency": 4500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -175.65 }, {"frequency": 5000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -146.75 }, {"frequency": 6000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -104.5 }, {"frequency": 7000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -79.685 }, {"frequency": 8000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -65.68 }, {"frequency": 9000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -57.129999999999995 }, {"frequency": 10000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -50.965 }, {"frequency": 15000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -27.78 }, {"frequency": 20000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -10.3065 }, {"frequency": 25000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1.954 }, {"frequency": 30000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 10.3895 } ] }, "initial": [{"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": -40, "tolerance": null, "value": 2737 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": -30, "tolerance": null, "value": 2739 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": -20, "tolerance": null, "value": 2710 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": -10, "tolerance": null, "value": 2723 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 0, "tolerance": null, "value": 2765 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 10, "tolerance": null, "value": 2841 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 20, "tolerance": null, "value": 2931 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 30, "tolerance": null, "value": 3091 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 40, "tolerance": null, "value": 3217 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 50, "tolerance": null, "value": 3345 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 60, "tolerance": null, "value": 3478 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 70, "tolerance": null, "value": 3562 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 80, "tolerance": null, "value": 3677 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 90, "tolerance": null, "value": 3787 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 100, "tolerance": null, "value": 3880 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 110, "tolerance": null, "value": 4001 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 120, "tolerance": null, "value": 4018 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 130, "tolerance": null, "value": 4021 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 140, "tolerance": null, "value": 4019 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 150, "tolerance": null, "value": 3945 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 160, "tolerance": null, "value": 3959 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 170, "tolerance": null, "value": 3990 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 180, "tolerance": null, "value": 4031 } ] }, "remanence": [{"magneticField": 0, "magneticFluxDensity": 0.095, "temperature": 100 }, {"magneticField": 0, "magneticFluxDensity": 0.155, "temperature": 25 } ], "resistivity": [{"temperature": 25, "value": 5 } ], "saturation": [{"magneticField": 1200, "magneticFluxDensity": 0.41, "temperature": 100 }, {"magneticField": 1200, "magneticFluxDensity": 0.53, "temperature": 25 } ], "type": "commercial", "volumetricLosses": {"default": [{"a": null, "b": null, "c": null, "coefficients": {"excessLossesCoefficient": 2.58363536e-20, "resistivityFrequencyCoefficient": 1.14639713e-7, "resistivityMagneticFluxDensityCoefficient": 2.03852055e-20, "resistivityOffset": 0.1586255, "resistivityTemperatureCoefficient": 0.000343492936 }, "d": null, "factors": null, "method": "roshen", "ranges": null, "referenceVolumetricLosses": null }, {"a": null, "b": null, "c": null, "coefficients": null, "d": null, "factors": null, "method": "steinmetz", "ranges": [{"alpha": 1.045, "beta": 2.44, "ct0": 1.3323629592000001, "ct1": 0.007940000000000001, "ct2": 0.000046200000000000005, "k": 92.16643453, "maximumFrequency": 150000, "minimumFrequency": 1 }, {"alpha": 1.955, "beta": 3.07, "ct0": 1.6542307692, "ct1": 0.0126, "ct2": 0.0000606, "k": 0.007470000000000001, "maximumFrequency": 300000, "minimumFrequency": 150000 }, {"alpha": 2.055, "beta": 2.535, "ct0": 1.0229198866, "ct1": 0.00978, "ct2": 0.00009550000000000003, "k": 0.0007869999999990001, "maximumFrequency": 400001, "minimumFrequency": 300000 } ], "referenceVolumetricLosses": null } ] } }, "rotation": [3.141592653589793, 3.141592653589793, 0 ], "shape": {"aliases": [], "dimensions": {"A": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0369 }, "B": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0257 }, "C": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.018 }, "D": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0168 }, "E": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": 0.0139, "nominal": null }, "F": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0147 }, "H": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0073 } }, "family": "ur", "familySubtype": "3", "magneticCircuit": "open", "name": "UR 37/26/18", "type": "standard" }, "type": "half set" }, {"coordinates": [0, 0, 0 ], "dimensions": null, "insulationMaterial": null, "machining": [{"coordinates": [0, -0.0000725, 0 ], "length": 0.000145 } ], "material": {"bhCycle": null, "coerciveForce": [{"magneticField": 9, "magneticFluxDensity": 0, "temperature": 100 }, {"magneticField": 13, "magneticFluxDensity": 0, "temperature": 25 } ], "curieTemperature": 215, "density": 4800, "family": "3C", "heatCapacity": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 800, "minimum": 700, "nominal": null }, "heatConductivity": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 5, "minimum": 3.5, "nominal": null }, "manufacturerInfo": {"cost": null, "datasheetUrl": "https://www.ferroxcube.com/upload/media/product/file/MDS/3c95.pdf", "family": null, "name": "Ferroxcube", "orderCode": null, "reference": null, "status": null }, "material": "ferrite", "materialComposition": null, "name": "3C95", "permeability": {"amplitude": null, "complex": {"imaginary": [{"frequency": 100000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 19.46 }, {"frequency": 120000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 21.134999999999998 }, {"frequency": 150000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 23.259999999999998 }, {"frequency": 200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 28.755000000000003 }, {"frequency": 250000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 35.815 }, {"frequency": 300000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 44.47 }, {"frequency": 450000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 90.15 }, {"frequency": 400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 69.875 }, {"frequency": 500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 118.9 }, {"frequency": 550000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 161.3 }, {"frequency": 600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 223.14999999999998 }, {"frequency": 650000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 311.45000000000005 }, {"frequency": 700000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 421.35 }, {"frequency": 750000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 554.85 }, {"frequency": 800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 704.9000000000001 }, {"frequency": 850000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 864 }, {"frequency": 900000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1031.6 }, {"frequency": 950000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1208.5 }, {"frequency": 1000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1391 }, {"frequency": 1100000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1796.5 }, {"frequency": 1200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2223.5 }, {"frequency": 1300000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2638.5 }, {"frequency": 1400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2993 }, {"frequency": 1500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3247.5 }, {"frequency": 1600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3383.5 }, {"frequency": 1700000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3407.5 }, {"frequency": 1800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3338.5 }, {"frequency": 1900000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3204.5 }, {"frequency": 2000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3032 }, {"frequency": 2200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2651 }, {"frequency": 2400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2295 }, {"frequency": 2600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1992 }, {"frequency": 2800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1743 }, {"frequency": 3000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1541.5 }, {"frequency": 3500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1180 }, {"frequency": 4000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 949.7 }, {"frequency": 4500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 793.5 }, {"frequency": 5000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 683 }, {"frequency": 6000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 539.1500000000001 }, {"frequency": 7000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 449.2 }, {"frequency": 8000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 385.6 }, {"frequency": 9000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 336.5 }, {"frequency": 10000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 296.75 }, {"frequency": 15000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 175.3 }, {"frequency": 20000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 118.05 }, {"frequency": 25000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 87.095 }, {"frequency": 30000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 68.445 } ], "real": [{"frequency": 100000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2815.5 }, {"frequency": 120000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2817.5 }, {"frequency": 150000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2825.5 }, {"frequency": 200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2843.5 }, {"frequency": 250000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2869.5 }, {"frequency": 300000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2902.5 }, {"frequency": 450000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3057.5 }, {"frequency": 400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2994.5 }, {"frequency": 500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3130.5 }, {"frequency": 550000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3215.5 }, {"frequency": 600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3311.5 }, {"frequency": 650000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3409 }, {"frequency": 700000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3503.5 }, {"frequency": 750000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3584.5 }, {"frequency": 800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3649.5 }, {"frequency": 850000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3698.5 }, {"frequency": 900000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3734.5 }, {"frequency": 950000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3756.5 }, {"frequency": 1000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3763 }, {"frequency": 1100000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3732.5 }, {"frequency": 1200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3601 }, {"frequency": 1300000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3356.5 }, {"frequency": 1400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 3004.5 }, {"frequency": 1500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2574 }, {"frequency": 1600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 2108 }, {"frequency": 1700000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1656 }, {"frequency": 1800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1243.5 }, {"frequency": 1900000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 892.6500000000001 }, {"frequency": 2000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 606.45 }, {"frequency": 2200000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 208.2 }, {"frequency": 2400000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -18.8 }, {"frequency": 2600000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -141.65 }, {"frequency": 2800000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -203.9 }, {"frequency": 3000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -232.14999999999998 }, {"frequency": 3500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -236.05 }, {"frequency": 4000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -208 }, {"frequency": 4500000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -175.65 }, {"frequency": 5000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -146.75 }, {"frequency": 6000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -104.5 }, {"frequency": 7000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -79.685 }, {"frequency": 8000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -65.68 }, {"frequency": 9000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -57.129999999999995 }, {"frequency": 10000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -50.965 }, {"frequency": 15000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -27.78 }, {"frequency": 20000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": -10.3065 }, {"frequency": 25000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 1.954 }, {"frequency": 30000000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": null, "tolerance": null, "value": 10.3895 } ] }, "initial": [{"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": -40, "tolerance": null, "value": 2737 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": -30, "tolerance": null, "value": 2739 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": -20, "tolerance": null, "value": 2710 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": -10, "tolerance": null, "value": 2723 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 0, "tolerance": null, "value": 2765 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 10, "tolerance": null, "value": 2841 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 20, "tolerance": null, "value": 2931 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 30, "tolerance": null, "value": 3091 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 40, "tolerance": null, "value": 3217 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 50, "tolerance": null, "value": 3345 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 60, "tolerance": null, "value": 3478 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 70, "tolerance": null, "value": 3562 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 80, "tolerance": null, "value": 3677 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 90, "tolerance": null, "value": 3787 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 100, "tolerance": null, "value": 3880 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 110, "tolerance": null, "value": 4001 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 120, "tolerance": null, "value": 4018 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 130, "tolerance": null, "value": 4021 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 140, "tolerance": null, "value": 4019 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 150, "tolerance": null, "value": 3945 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 160, "tolerance": null, "value": 3959 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 170, "tolerance": null, "value": 3990 }, {"frequency": 10000, "magneticFieldDcBias": null, "magneticFluxDensityPeak": null, "modifiers": null, "temperature": 180, "tolerance": null, "value": 4031 } ] }, "remanence": [{"magneticField": 0, "magneticFluxDensity": 0.095, "temperature": 100 }, {"magneticField": 0, "magneticFluxDensity": 0.155, "temperature": 25 } ], "resistivity": [{"temperature": 25, "value": 5 } ], "saturation": [{"magneticField": 1200, "magneticFluxDensity": 0.41, "temperature": 100 }, {"magneticField": 1200, "magneticFluxDensity": 0.53, "temperature": 25 } ], "type": "commercial", "volumetricLosses": {"default": [{"a": null, "b": null, "c": null, "coefficients": {"excessLossesCoefficient": 2.58363536e-20, "resistivityFrequencyCoefficient": 1.14639713e-7, "resistivityMagneticFluxDensityCoefficient": 2.03852055e-20, "resistivityOffset": 0.1586255, "resistivityTemperatureCoefficient": 0.000343492936 }, "d": null, "factors": null, "method": "roshen", "ranges": null, "referenceVolumetricLosses": null }, {"a": null, "b": null, "c": null, "coefficients": null, "d": null, "factors": null, "method": "steinmetz", "ranges": [{"alpha": 1.045, "beta": 2.44, "ct0": 1.3323629592000001, "ct1": 0.007940000000000001, "ct2": 0.000046200000000000005, "k": 92.16643453, "maximumFrequency": 150000, "minimumFrequency": 1 }, {"alpha": 1.955, "beta": 3.07, "ct0": 1.6542307692, "ct1": 0.0126, "ct2": 0.0000606, "k": 0.007470000000000001, "maximumFrequency": 300000, "minimumFrequency": 150000 }, {"alpha": 2.055, "beta": 2.535, "ct0": 1.0229198866, "ct1": 0.00978, "ct2": 0.00009550000000000003, "k": 0.0007869999999990001, "maximumFrequency": 400001, "minimumFrequency": 300000 } ], "referenceVolumetricLosses": null } ] } }, "rotation": [0, 3.141592653589793, 0 ], "shape": {"aliases": [], "dimensions": {"A": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0369 }, "B": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0257 }, "C": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.018 }, "D": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0168 }, "E": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": 0.0139, "nominal": null }, "F": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0147 }, "H": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0073 } }, "family": "ur", "familySubtype": "3", "magneticCircuit": "open", "name": "UR 37/26/18", "type": "standard" }, "type": "half set" } ], "manufacturerInfo": null, "name": "Custom", "processedDescription": {"columns": [{"area": 0.00017, "coordinates": [0, 0, 0 ], "depth": 0.0147, "height": 0.0336, "minimumDepth": null, "minimumWidth": null, "shape": "round", "type": "central", "width": 0.0147 }, {"area": 0.000132, "coordinates": [0.0254, 0, 0 ], "depth": 0.018, "height": 0.0336, "minimumDepth": null, "minimumWidth": null, "shape": "rectangular", "type": "lateral", "width": 0.0073 } ], "depth": 0.018, "effectiveParameters": {"effectiveArea": 0.00015100958049509865, "effectiveLength": 0.12486203115872624, "effectiveVolume": 0.000018855362945045185, "minimumArea": 0.0001314 }, "height": 0.0514, "width": 0.0369, "windingWindows": [{"angle": null, "area": 0.00046703999999999995, "coordinates": [0.01845, 0 ], "height": 0.0336, "radialHeight": null, "sectionsAlignment": null, "sectionsOrientation": null, "shape": null, "width": 0.0139 } ] } }, "manufacturerInfo": {"name": "OpenMagnetics", "reference": "My custom magnetic" }})"));

        std::string filePath = __FILE__;
        auto flyback_jsimba_path = filePath.substr(0, filePath.rfind("/")).append("/testData/flyback.jsimba");
        auto jsimbaFile = outputFilePath;
        jsimbaFile.append("./Test_CircuitSimulatorExporter_Simba_Json_Ur.jsimba");

        std::filesystem::remove(jsimbaFile);
        CircuitSimulatorExporter().export_magnetic_as_subcircuit(magnetic, 10000, 100, jsimbaFile, flyback_jsimba_path);
        CHECK(std::filesystem::exists(jsimbaFile));
    }

    TEST(Test_CircuitSimulatorExporter_Simba_Json) {
        OpenMagnetics::Magnetic magnetic(json::parse(R"({ "coil": {"bobbin": {"distributorsInfo": null, "functionalDescription": null, "manufacturerInfo": null, "name": null, "processedDescription": {"columnDepth": 0.0026189986282578884, "columnShape": "irregular", "columnThickness": 0.0008189986282578885, "columnWidth": 0.005268998628257889, "coordinates": [0, 0, 0 ], "pins": null, "wallThickness": 0.0007000000000000001, "windingWindows": [{"angle": null, "area": 0.000034034019204389564, "coordinates": [0.0064844993141289445, 0, 0 ], "height": 0.014, "radialHeight": null, "sectionsAlignment": "inner or top", "sectionsOrientation": "overlapping", "shape": "rectangular", "width": 0.002431001371742112 } ] } }, "functionalDescription": [{"connections": null, "isolationSide": "primary", "name": "Primary", "numberParallels": 2, "numberTurns": 30, "wire": {"coating": {"breakdownVoltage": 2700, "grade": 1, "material": null, "numberLayers": null, "temperatureRating": null, "thickness": null, "thicknessLayers": null, "type": "enamelled" }, "conductingArea": null, "conductingDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.00040500000000000003, "minimum": 0.000395, "nominal": 0.0004 }, "conductingHeight": null, "conductingWidth": null, "edgeRadius": null, "manufacturerInfo": {"cost": null, "datasheetUrl": null, "family": null, "name": "Elektrisola", "orderCode": null, "reference": null, "status": null }, "material": "copper", "name": "Round 0.4 - Grade 1", "numberConductors": 1, "outerDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.000439, "minimum": 0.000421, "nominal": null }, "outerHeight": null, "outerWidth": null, "standard": "IEC 60317", "standardName": "0.4 mm", "strand": null, "type": "round" } }, {"connections": null, "isolationSide": "secondary", "name": "Secondary", "numberParallels": 1, "numberTurns": 10, "wire": {"coating": {"breakdownVoltage": 9000, "grade": null, "material": "ETFE", "numberLayers": 3, "temperatureRating": 155, "thickness": null, "thicknessLayers": 0.0000508, "type": "insulated" }, "conductingArea": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 2.544690049379459e-7 }, "conductingDiameter": null, "conductingHeight": null, "conductingWidth": null, "edgeRadius": null, "manufacturerInfo": {"cost": null, "datasheetUrl": null, "family": null, "name": "Elektrisola", "orderCode": null, "reference": null, "status": null }, "material": null, "name": "Litz 10x0.18 - Grade 1 - Unserved", "numberConductors": 15, "outerDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.0008060000000000001, "minimum": 0.000763, "nominal": 0.0012734718647199371 }, "outerHeight": null, "outerWidth": null, "standard": "IEC 60317", "standardName": null, "strand": {"coating": {"breakdownVoltage": 1700, "grade": 1, "material": null, "numberLayers": null, "temperatureRating": null, "thickness": null, "thicknessLayers": null, "type": "enamelled" }, "conductingArea": null, "conductingDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.000183, "minimum": 0.000177, "nominal": 0.00017999999999900002 }, "manufacturerInfo": {"cost": null, "datasheetUrl": null, "family": null, "name": "Elektrisola", "orderCode": null, "reference": null, "status": null }, "material": "copper", "name": "Round 0.18 - Grade 1", "numberConductors": 1, "outerDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.000204, "minimum": 0.000193, "nominal": null }, "standard": "IEC 60317", "standardName": "0.18 mm", "type": "round" }, "type": "litz" } } ], "layersDescription": [{"additionalCoordinates": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -4.336808689942018e-19 ], "dimensions": [0.00043, 0.013963342999999996 ], "fillingFactor": 0.9214285714285714, "insulationMaterial": null, "name": "Primary section 0 layer 0", "orientation": "overlapping", "partialWindings": [{"connections": null, "parallelsProportion": [1, 0 ], "winding": "Primary" } ], "section": "Primary section 0", "turnsAlignment": "spread", "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"additionalCoordinates": null, "coordinateSystem": "cartesian", "coordinates": [0.005711498999999999, 0 ], "dimensions": [0.000025, 0.014 ], "fillingFactor": 1, "insulationMaterial": null, "name": "Insulation between Primary and Secondary section 1 layer 0", "orientation": "overlapping", "partialWindings": [], "section": "Insulation between Primary and Secondary section 1", "turnsAlignment": "spread", "type": "insulation", "windingStyle": null }, {"additionalCoordinates": null, "coordinateSystem": "cartesian", "coordinates": [0.0063607345606178575, 0 ], "dimensions": [0.0012734718647199371, 0.013873471864719938 ], "fillingFactor": 0.9096227605142407, "insulationMaterial": null, "name": "Secondary section 0 layer 0", "orientation": "overlapping", "partialWindings": [{"connections": null, "parallelsProportion": [1 ], "winding": "Secondary" } ], "section": "Secondary section 0", "turnsAlignment": "spread", "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"additionalCoordinates": null, "coordinateSystem": "cartesian", "coordinates": [0.007009970864719936, 0 ], "dimensions": [0.000025, 0.014 ], "fillingFactor": 1, "insulationMaterial": null, "name": "Insulation between Secondary and Primary section 3 layer 0", "orientation": "overlapping", "partialWindings": [], "section": "Insulation between Secondary and Primary section 3", "turnsAlignment": "spread", "type": "insulation", "windingStyle": null }, {"additionalCoordinates": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -4.336808689942018e-19 ], "dimensions": [0.00043, 0.013963342999999996 ], "fillingFactor": 0.9214285714285714, "insulationMaterial": null, "name": "Primary section 1 layer 0", "orientation": "overlapping", "partialWindings": [{"connections": null, "parallelsProportion": [0, 1 ], "winding": "Primary" } ], "section": "Primary section 1", "turnsAlignment": "spread", "type": "conduction", "windingStyle": "windByConsecutiveTurns" } ], "sectionsDescription": [{"coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0 ], "dimensions": [0.00043000000000000004, 0.013963342999999996 ], "fillingFactor": 0.6656266874662506, "layersAlignment": null, "layersOrientation": "overlapping", "margin": [0, 0 ], "name": "Primary section 0", "partialWindings": [{"connections": null, "parallelsProportion": [1, 0 ], "winding": "Primary" } ], "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"coordinateSystem": "cartesian", "coordinates": [0.005711498628257889, 0 ], "dimensions": [0.000025, 0.014 ], "fillingFactor": 1, "layersAlignment": null, "layersOrientation": "overlapping", "margin": null, "name": "Insulation between Primary and Secondary section 1", "partialWindings": [], "type": "insulation", "windingStyle": null }, {"coordinateSystem": "cartesian", "coordinates": [0.0063607345606178575, 0 ], "dimensions": [0.0012734718647199371, 0.013873471864719938 ], "fillingFactor": 0.9730180764432512, "layersAlignment": null, "layersOrientation": "overlapping", "margin": [0, 0 ], "name": "Secondary section 0", "partialWindings": [{"connections": null, "parallelsProportion": [1 ], "winding": "Secondary" } ], "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"coordinateSystem": "cartesian", "coordinates": [0.007009970492977826, 0 ], "dimensions": [0.000025, 0.014 ], "fillingFactor": 1, "layersAlignment": null, "layersOrientation": "overlapping", "margin": null, "name": "Insulation between Secondary and Primary section 3", "partialWindings": [], "type": "insulation", "windingStyle": null }, {"coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0 ], "dimensions": [0.00043000000000000004, 0.013963342999999996 ], "fillingFactor": 0.6656266874662506, "layersAlignment": null, "layersOrientation": "overlapping", "margin": [0, 0 ], "name": "Primary section 1", "partialWindings": [{"connections": null, "parallelsProportion": [0, 1 ], "winding": "Primary" } ], "type": "conduction", "windingStyle": "windByConsecutiveTurns" } ], "turnsDescription": [{"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.006766671499999997 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 0", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.006300004499999998 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 1", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.005833337499999998 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 2", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.0053666704999999985 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 3", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.004900003499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 4", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.004433336499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 5", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.003966669499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 6", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.003500002499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 7", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.003033335499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 8", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.002566668499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 9", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.002100001499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 10", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.001633334499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 11", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.001166667499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 12", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.000700000499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 13", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, 0.00023333349999999904 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 14", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.00023333350000000094 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 15", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.0007000005000000009 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 16", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.001166667500000001 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 17", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.001633334500000001 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 18", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.002100001500000001 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 19", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.002566668500000001 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 20", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.003033335500000001 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 21", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.003500002500000001 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 22", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.0039666695000000005 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 23", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.0044333365 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 24", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.0049000035 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 25", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.005366670499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 26", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.005833337499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 27", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.0063000044999999985 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 28", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.005483998628257889, -0.006766671499999998 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.032902873867106726, "name": "Primary parallel 0 turn 29", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0063607345606178575, 0.0063 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.038411568195587276, "name": "Secondary parallel 0 turn 0", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0063607345606178575, 0.0049 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.038411568195587276, "name": "Secondary parallel 0 turn 1", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0063607345606178575, 0.0034999999999999996 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.038411568195587276, "name": "Secondary parallel 0 turn 2", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0063607345606178575, 0.0020999999999999994 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.038411568195587276, "name": "Secondary parallel 0 turn 3", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0063607345606178575, 0.0006999999999999997 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.038411568195587276, "name": "Secondary parallel 0 turn 4", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0063607345606178575, -0.0007000000000000003 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.038411568195587276, "name": "Secondary parallel 0 turn 5", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0063607345606178575, -0.0021000000000000003 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.038411568195587276, "name": "Secondary parallel 0 turn 6", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0063607345606178575, -0.0035000000000000005 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.038411568195587276, "name": "Secondary parallel 0 turn 7", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0063607345606178575, -0.004900000000000001 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.038411568195587276, "name": "Secondary parallel 0 turn 8", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0063607345606178575, -0.006300000000000001 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.038411568195587276, "name": "Secondary parallel 0 turn 9", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.006766671499999997 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 0", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.006300004499999998 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 1", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.005833337499999998 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 2", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.0053666704999999985 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 3", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.004900003499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 4", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.004433336499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 5", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.003966669499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 6", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.003500002499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 7", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.003033335499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 8", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.002566668499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 9", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.002100001499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 10", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.001633334499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 11", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.001166667499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 12", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.000700000499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 13", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, 0.00023333349999999904 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 14", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.00023333350000000094 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 15", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.0007000005000000009 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 16", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.001166667500000001 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 17", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.001633334500000001 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 18", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.002100001500000001 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 19", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.002566668500000001 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 20", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.003033335500000001 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 21", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.003500002500000001 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 22", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.0039666695000000005 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 23", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.0044333365 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 24", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.0049000035 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 25", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.005366670499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 26", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.005833337499999999 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 27", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.0063000044999999985 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 28", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" }, {"additionalCoordinates": null, "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.007237470492977826, -0.006766671499999998 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 1 layer 0", "length": 0.043920262524067825, "name": "Primary parallel 1 turn 29", "orientation": "clockwise", "parallel": 1, "rotation": 0, "section": "Primary section 1", "winding": "Primary" } ] }, "core": {"distributorsInfo": [], "functionalDescription": {"coating": null, "gapping": [{"length": 0.0002, "type": "subtractive" }, {"length": 0.000005, "type": "residual" }, {"length": 0.000005, "type": "residual" } ], "material": "3C95", "numberStacks": 1, "shape": {"aliases": ["EFD 20" ], "dimensions": {"A": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.02055, "minimum": 0.01945, "nominal": null }, "B": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.01015, "minimum": 0.00985, "nominal": null }, "C": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.0068, "minimum": 0.0065, "nominal": null }, "D": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.00795, "minimum": 0.00745, "nominal": null }, "E": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.0159, "minimum": 0.0149, "nominal": null }, "F": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.0091, "minimum": 0.0087, "nominal": null }, "F2": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.00375, "minimum": 0.00345, "nominal": null }, "K": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.00017 }, "q": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.00075 } }, "family": "efd", "familySubtype": "2", "magneticCircuit": "open", "name": "EFD 20/10/7", "type": "standard" }, "type": "two-piece set", "magneticCircuit": "open" }, "geometricalDescription": [{"coordinates": [0, 0, 0 ], "dimensions": null, "insulationMaterial": null, "machining": [{"coordinates": [0, 0.000145, 0 ], "length": 0.00029 } ], "material": "3C95", "rotation": [3.141592653589793, 3.141592653589793, 0 ], "shape": {"aliases": ["EFD 20" ], "dimensions": {"A": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.02055, "minimum": 0.01945, "nominal": null }, "B": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.01015, "minimum": 0.00985, "nominal": null }, "C": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.0068, "minimum": 0.0065, "nominal": null }, "D": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.00795, "minimum": 0.00745, "nominal": null }, "E": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.0159, "minimum": 0.0149, "nominal": null }, "F": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.0091, "minimum": 0.0087, "nominal": null }, "F2": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.00375, "minimum": 0.00345, "nominal": null }, "K": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.00017 }, "q": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.00075 } }, "family": "efd", "familySubtype": "2", "magneticCircuit": "open", "name": "EFD 20/10/7", "type": "standard" }, "type": "half set" }, {"coordinates": [0, 0, 0 ], "dimensions": null, "insulationMaterial": null, "machining": null, "material": "3C95", "rotation": [0, 0, 0 ], "shape": {"aliases": ["EFD 20" ], "dimensions": {"A": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.02055, "minimum": 0.01945, "nominal": null }, "B": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.01015, "minimum": 0.00985, "nominal": null }, "C": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.0068, "minimum": 0.0065, "nominal": null }, "D": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.00795, "minimum": 0.00745, "nominal": null }, "E": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.0159, "minimum": 0.0149, "nominal": null }, "F": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.0091, "minimum": 0.0087, "nominal": null }, "F2": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.00375, "minimum": 0.00345, "nominal": null }, "K": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.00017 }, "q": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.00075 } }, "family": "efd", "familySubtype": "2", "magneticCircuit": "open", "name": "EFD 20/10/7", "type": "standard" }, "type": "half set" } ], "manufacturerInfo": null, "name": "Custom", "processedDescription": {"columns": [{"area": 0.000033, "coordinates": [0, 0, 0 ], "depth": 0.0036, "height": 0.0154, "minimumDepth": null, "minimumWidth": null, "shape": "irregular", "type": "central", "width": 0.0089 }, {"area": 0.000016, "coordinates": [0.00885, 0, 0 ], "depth": 0.00665, "height": 0.0154, "minimumDepth": null, "minimumWidth": null, "shape": "rectangular", "type": "lateral", "width": 0.0023 }, {"area": 0.000016, "coordinates": [-0.00885, 0, 0 ], "depth": 0.00665, "height": 0.0154, "minimumDepth": null, "minimumWidth": null, "shape": "rectangular", "type": "lateral", "width": 0.0023 } ], "depth": 0.00682, "effectiveParameters": {"effectiveArea": 0.000030716276272744335, "effectiveLength": 0.04719843044006693, "effectiveVolume": 0.0000014497600290370014, "minimumArea": 0.000030589999999999976 }, "height": 0.019999999999999997, "width": 0.019999999999999997, "windingWindows": [{"angle": null, "area": 0.000050050000000000004, "coordinates": [0.00445, 0 ], "height": 0.0154, "radialHeight": null, "sectionsAlignment": null, "sectionsOrientation": null, "shape": null, "width": 0.0032500000000000003 } ] } }, "manufacturerInfo": {"name": "OpenMagnetics", "reference": "My custom magnetic" }})"));

        std::string filePath = __FILE__;
        auto flyback_jsimba_path = filePath.substr(0, filePath.rfind("/")).append("/testData/flyback.jsimba");
        auto jsimbaFile = outputFilePath;
        jsimbaFile.append("./Test_CircuitSimulatorExporter_Simba_Json.jsimba");

        std::filesystem::remove(jsimbaFile);
        CircuitSimulatorExporter().export_magnetic_as_subcircuit(magnetic, 10000, 100, jsimbaFile, flyback_jsimba_path);
        CHECK(std::filesystem::exists(jsimbaFile));
    }

    TEST(Test_CircuitSimulatorExporter_Simba_Json_Toroidal_Core) {
        OpenMagnetics::Magnetic magnetic(json::parse(R"({"coil": {"bobbin": {"distributorsInfo": null, "functionalDescription": null, "manufacturerInfo": null, "name": null, "processedDescription": {"columnDepth": 0.004, "columnShape": "rectangular", "columnThickness": 0, "columnWidth": 0.0022725, "coordinates": [0, 0, 0 ], "pins": null, "wallThickness": 0, "windingWindows": [{"angle": 360, "area": 0.0000637587014444212, "coordinates": [0.004505, 0, 0 ], "height": null, "radialHeight": 0.004505, "sectionsAlignment": "inner or top", "sectionsOrientation": "overlapping", "shape": "round", "width": null } ] } }, "functionalDescription": [{"connections": null, "isolationSide": "primary", "name": "Primary", "numberParallels": 2, "numberTurns": 40, "wire": {"coating": {"breakdownVoltage": 2700, "grade": 1, "material": null, "numberLayers": null, "temperatureRating": null, "thickness": null, "thicknessLayers": null, "type": "enamelled" }, "conductingArea": null, "conductingDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.00040500000000000003, "minimum": 0.000395, "nominal": 0.0004 }, "conductingHeight": null, "conductingWidth": null, "edgeRadius": null, "manufacturerInfo": {"cost": null, "datasheetUrl": null, "family": null, "name": "Elektrisola", "orderCode": null, "reference": null, "status": null }, "material": "copper", "name": "Round 0.4 - Grade 1", "numberConductors": 1, "outerDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.000439, "minimum": 0.000421, "nominal": null }, "outerHeight": null, "outerWidth": null, "standard": "IEC 60317", "standardName": "0.4 mm", "strand": null, "type": "round" } }, {"connections": null, "isolationSide": "secondary", "name": "Secondary", "numberParallels": 1, "numberTurns": 13, "wire": {"coating": {"breakdownVoltage": 9000, "grade": null, "material": "ETFE", "numberLayers": 3, "temperatureRating": 155, "thickness": null, "thicknessLayers": 0.0000508, "type": "insulated" }, "conductingArea": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 2.544690049379459e-7 }, "conductingDiameter": null, "conductingHeight": null, "conductingWidth": null, "edgeRadius": null, "manufacturerInfo": {"cost": null, "datasheetUrl": null, "family": null, "name": "Elektrisola", "orderCode": null, "reference": null, "status": null }, "material": null, "name": "Litz 10x0.18 - Grade 1 - Unserved", "numberConductors": 15, "outerDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.0008060000000000001, "minimum": 0.000763, "nominal": 0.0012734718647199371 }, "outerHeight": null, "outerWidth": null, "standard": "IEC 60317", "standardName": null, "strand": {"coating": {"breakdownVoltage": 1700, "grade": 1, "material": null, "numberLayers": null, "temperatureRating": null, "thickness": null, "thicknessLayers": null, "type": "enamelled" }, "conductingArea": null, "conductingDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.000183, "minimum": 0.000177, "nominal": 0.00017999999999900002 }, "manufacturerInfo": {"cost": null, "datasheetUrl": null, "family": null, "name": "Elektrisola", "orderCode": null, "reference": null, "status": null }, "material": "copper", "name": "Round 0.18 - Grade 1", "numberConductors": 1, "outerDiameter": {"excludeMaximum": null, "excludeMinimum": null, "maximum": 0.000204, "minimum": 0.000193, "nominal": null }, "standard": "IEC 60317", "standardName": "0.18 mm", "type": "round" }, "type": "litz" } } ], "layersDescription": [{"additionalCoordinates": null, "coordinateSystem": "polar", "coordinates": [0.00021500000000000035, 180 ], "dimensions": [0.00043000000000000086, 360 ], "fillingFactor": 0.7221533491458023, "insulationMaterial": null, "name": "Primary section 0 layer 0", "orientation": "overlapping", "partialWindings": [{"connections": null, "parallelsProportion": [1, 0.075 ], "winding": "Primary" } ], "section": "Primary section 0", "turnsAlignment": "spread", "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"additionalCoordinates": null, "coordinateSystem": "polar", "coordinates": [0.0006449999999999997, 180 ], "dimensions": [0.00043000000000000086, 360 ], "fillingFactor": 0.6213877655440624, "insulationMaterial": null, "name": "Primary section 0 layer 1", "orientation": "overlapping", "partialWindings": [{"connections": null, "parallelsProportion": [0, 0.925 ], "winding": "Primary" } ], "section": "Primary section 0", "turnsAlignment": "spread", "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"additionalCoordinates": [[-0.0049875000000000015, 180 ] ], "coordinateSystem": "polar", "coordinates": [0.0008725, 180 ], "dimensions": [0.000025, 360 ], "fillingFactor": 1, "insulationMaterial": null, "name": "Insulation between Primary and Primary section 1 layer 0", "orientation": "overlapping", "partialWindings": [], "section": "Insulation between Primary and Primary section 1", "turnsAlignment": "spread", "type": "insulation", "windingStyle": null }, {"additionalCoordinates": null, "coordinateSystem": "polar", "coordinates": [0.0015217359999999999, 180 ], "dimensions": [0.0012734718647199376, 360 ], "fillingFactor": 0.8153515419830497, "insulationMaterial": null, "name": "Secondary section 0 layer 0", "orientation": "overlapping", "partialWindings": [{"connections": null, "parallelsProportion": [1 ], "winding": "Secondary" } ], "section": "Secondary section 0", "turnsAlignment": "spread", "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"additionalCoordinates": [[-0.006285971864719938, 180 ] ], "coordinateSystem": "polar", "coordinates": [0.002170972, 180 ], "dimensions": [0.000025, 360 ], "fillingFactor": 1, "insulationMaterial": null, "name": "Insulation between Secondary and Secondary section 3 layer 0", "orientation": "overlapping", "partialWindings": [], "section": "Insulation between Secondary and Secondary section 3", "turnsAlignment": "spread", "type": "insulation", "windingStyle": null } ], "sectionsDescription": [{"coordinateSystem": "polar", "coordinates": [0.00043000000000000004, 180 ], "dimensions": [0.0008600000000000002, 360 ], "fillingFactor": -0.5547041582939414, "layersAlignment": null, "layersOrientation": "overlapping", "margin": [0, 0 ], "name": "Primary section 0", "partialWindings": [{"connections": null, "parallelsProportion": [1, 1 ], "winding": "Primary" } ], "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"coordinateSystem": "polar", "coordinates": [0.0008725, 180 ], "dimensions": [0.000025, 360 ], "fillingFactor": 1, "layersAlignment": null, "layersOrientation": "overlapping", "margin": null, "name": "Insulation between Primary and Primary section 1", "partialWindings": [], "type": "insulation", "windingStyle": null }, {"coordinateSystem": "polar", "coordinates": [0.0015217359999999999, 180 ], "dimensions": [0.0012734718647199376, 360 ], "fillingFactor": -0.6189793047842258, "layersAlignment": null, "layersOrientation": "overlapping", "margin": [0, 0 ], "name": "Secondary section 0", "partialWindings": [{"connections": null, "parallelsProportion": [1 ], "winding": "Secondary" } ], "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"coordinateSystem": "polar", "coordinates": [0.002170971864719937, 180 ], "dimensions": [0.000025, 360 ], "fillingFactor": 1, "layersAlignment": null, "layersOrientation": "overlapping", "margin": null, "name": "Insulation between Secondary and Secondary section 3", "partialWindings": [], "type": "insulation", "windingStyle": null } ], "turnsDescription": [{"additionalCoordinates": [[0.009240283608138415, 0.0006763015903933168 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.004278555496914603, 0.00031314989992307923 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 0", "orientation": "clockwise", "parallel": 0, "rotation": 4.186046512, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.009043343005551579, 0.0020144905767814783 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.004187365514713034, 0.000932775453253377 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.026440884841043618, "name": "Primary parallel 0 turn 1", "orientation": "clockwise", "parallel": 0, "rotation": 12.558139534999999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.008653659247415119, 0.0033097441939864206 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.004006929106466364, 0.0015325205172371013 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 2", "orientation": "clockwise", "parallel": 0, "rotation": 20.930232558, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.008079537766483666, 0.004534456359913956 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.003741091960951423, 0.0020996025670837427 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 3", "orientation": "clockwise", "parallel": 0, "rotation": 29.302325580999998, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.007333214965361394, 0.005662524461033232 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0033955199353912988, 0.0026219352334411836 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 4", "orientation": "clockwise", "parallel": 0, "rotation": 37.674418603999996, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.006430597418824756, 0.006669905684266037 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.002977578297545408, 0.003088385902374668 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 5", "orientation": "clockwise", "parallel": 0, "rotation": 46.046511626999994, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.005390922852797357, 0.007535129447805607 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0024961747478144266, 0.0034890129877049167 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 6", "orientation": "clockwise", "parallel": 0, "rotation": 54.41860464999999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.004236350125621488, 0.008239755009291649 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.001961569567071363, 0.0038152778186574393 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 7", "orientation": "clockwise", "parallel": 0, "rotation": 62.79069767299999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.002991486950463712, 0.008768764498217826 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0013851569365881623, 0.004060226626805664 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 8", "orientation": "clockwise", "parallel": 0, "rotation": 71.16279069599999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.0016828654246314162, 0.00911088299576831 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0007792220908439044, 0.004218638753572159 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 9", "orientation": "clockwise", "parallel": 0, "rotation": 79.53488371899999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.00033837654398246746, 0.00925881884013736 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.00015667947908092666, 0.004287137919502349 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 10", "orientation": "clockwise", "parallel": 0, "rotation": 87.906976742, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.0010133242452285143, 0.009209419035641287 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0004692024837593444, 0.004264264183799365 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 11", "orientation": "clockwise", "parallel": 0, "rotation": 96.279069765, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.002343427787436879, 0.008963736453347382 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0010850842102648906, 0.004150505060427444 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 12", "orientation": "clockwise", "parallel": 0, "rotation": 104.65116278800001, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.003623585234901749, 0.008527007390955051 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0016778392506992448, 0.003948285127598183 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 13", "orientation": "clockwise", "parallel": 0, "rotation": 113.02325581100001, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.004826512254177696, 0.007908539970201361 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.002234834060488108, 0.003661914352095396 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 14", "orientation": "clockwise", "parallel": 0, "rotation": 121.39534883400002, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.005926570544312438, 0.0071215157504065235 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.00274419726228822, 0.0032974962298158647 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 15", "orientation": "clockwise", "parallel": 0, "rotation": 129.76744185700002, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.006900314272719621, 0.006182708786422171 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.003195072663784908, 0.002862797700350903 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 16", "orientation": "clockwise", "parallel": 0, "rotation": 138.13953488, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.007726989782394901, 0.005112128118774492 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.003577850638583284, 0.002367083608153542 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 17", "orientation": "clockwise", "parallel": 0, "rotation": 146.511627903, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.008388977920083496, 0.003932591315704138 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.003884372938711084, 0.0018209192384641933 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 18", "orientation": "clockwise", "parallel": 0, "rotation": 154.883720926, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.008872169557942282, 0.002669238156313946 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.004108106573510241, 0.0012359451365986864 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 19", "orientation": "clockwise", "parallel": 0, "rotation": 163.255813949, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.009166266305104196, 0.0013489948198238066 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.004244283048990502, 0.0006246290099346067 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 20", "orientation": "clockwise", "parallel": 0, "rotation": 171.62790697199998, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.009265, 8.085306535272467e-13 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.00429, 3.74376309080614e-13 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 21", "orientation": "clockwise", "parallel": 0, "rotation": 179.99999999499997, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.009166266305339643, -0.0013489948182239737 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.004244283049099522, -0.0006246290091938314 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 22", "orientation": "clockwise", "parallel": 0, "rotation": 188.37209301799996, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.008872169558408157, -0.002669238154765443 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.004108106573725957, -0.0012359451358816785 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 23", "orientation": "clockwise", "parallel": 0, "rotation": 196.74418604099995, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.008388977920769865, -0.003932591314239976 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0038843729390288964, -0.0018209192377862385 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 24", "orientation": "clockwise", "parallel": 0, "rotation": 205.11627906399994, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.007726989783287143, -0.005112128117425866 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.003577850638996421, -0.0023670836075290846 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 25", "orientation": "clockwise", "parallel": 0, "rotation": 213.48837208699993, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.006900314273798718, -0.006182708785217826 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.003195072664284566, -0.0028627976997932514 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 26", "orientation": "clockwise", "parallel": 0, "rotation": 221.86046510999992, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.005926570545555385, -0.007121515749372135 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0027441972628637454, -0.003297496229336909 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 27", "orientation": "clockwise", "parallel": 0, "rotation": 230.2325581329999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.004826512255558009, -0.007908539969358969 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0022348340611272376, -0.0036619143517053403 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 28", "orientation": "clockwise", "parallel": 0, "rotation": 238.6046511559999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.0036235852363900134, -0.008527007390322607 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0016778392513883595, -0.00394828512730534 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.026440884841043618, "name": "Primary parallel 0 turn 29", "orientation": "clockwise", "parallel": 0, "rotation": 246.9767441789999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.002343427789001367, -0.00896373645293837 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0010850842109893003, -0.004150505060238059 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 30", "orientation": "clockwise", "parallel": 0, "rotation": 255.34883720199988, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.0010133242468358767, -0.009209419035464426 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0004692024845036061, -0.004264264183717473 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 31", "orientation": "clockwise", "parallel": 0, "rotation": 263.7209302249999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.00033837654236648087, -0.009258818840196416 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.00015667947833267166, -0.004287137919529695 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 32", "orientation": "clockwise", "parallel": 0, "rotation": 272.0930232479999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.0016828654230412454, -0.009110882996062029 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0007792220901076031, -0.00421863875370816 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 33", "orientation": "clockwise", "parallel": 0, "rotation": 280.4651162709999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.0029914869489332495, -0.008768764498739949 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0013851569358795078, -0.004060226627047424 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 34", "orientation": "clockwise", "parallel": 0, "rotation": 288.8372092939999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.004236350124183348, -0.008239755010031047 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0019615695664054575, -0.0038152778189998048 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 35", "orientation": "clockwise", "parallel": 0, "rotation": 297.20930231699987, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.0053909228514821975, -0.0075351294487465215 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0024961747472054645, -0.003489012988140591 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 36", "orientation": "clockwise", "parallel": 0, "rotation": 305.58139533999986, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.006430597417660622, -0.006669905685388403 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0029775782970063755, -0.0030883859028943603 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 37", "orientation": "clockwise", "parallel": 0, "rotation": 313.95348836299985, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.007333214964373082, -0.0056625244623131395 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0033955199349336774, -0.002621935234033823 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 38", "orientation": "clockwise", "parallel": 0, "rotation": 322.32558138599984, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.008079537765692242, -0.004534456361324126 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0037410919605849664, -0.0020996025677366974 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 0 turn 39", "orientation": "clockwise", "parallel": 0, "rotation": 330.69767440899983, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.008653659246837449, -0.003309744195496797 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.004006929106198883, -0.0015325205179364553 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 1 turn 0", "orientation": "clockwise", "parallel": 1, "rotation": 339.0697674319998, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.009043343005199976, -0.0020144905783598707 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.004187365514550232, -0.0009327754539842252 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 1 turn 1", "orientation": "clockwise", "parallel": 1, "rotation": 347.4418604549998, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.009240283608020376, -0.000676301592006085 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.004278555496859947, -0.000313149900669844 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 0", "length": 0.02644088484104361, "name": "Primary parallel 1 turn 2", "orientation": "clockwise", "parallel": 1, "rotation": 355.8139534779998, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.009261714687840818, 0.0002467104396527973 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.00384609430577338, 0.0003273508684845367 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 3", "orientation": "clockwise", "parallel": 1, "rotation": 4.864864865, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.009127104773256569, 0.0015925399392157026 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.003735449175156424, 0.0009726353169730141 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 4", "orientation": "clockwise", "parallel": 1, "rotation": 14.594594595, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.008442531963401074, 0.003816265065080153 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0035173419728794547, 0.001589938818263291 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 5", "orientation": "clockwise", "parallel": 1, "rotation": 24.324324325, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.007676141900158542, 0.0051881663936915534 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.003198047246045545, 0.0021615026745439177 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 6", "orientation": "clockwise", "parallel": 1, "rotation": 34.054054055, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.006733182539212658, 0.0063643128375058524 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.002786750522607769, 0.002670884034312483 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 7", "orientation": "clockwise", "parallel": 1, "rotation": 43.783783785000004, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.0057348242501786975, 0.007276813575979692 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0022952840604540305, 0.0031034289232759406 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.02914265452313083, "name": "Primary parallel 1 turn 8", "orientation": "clockwise", "parallel": 1, "rotation": 53.51351351500001, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.004614248727411765, 0.00803423510245866 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0017377864548905391, 0.0034466938125106176 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 9", "orientation": "clockwise", "parallel": 1, "rotation": 63.24324324500001, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.0033951865681852906, 0.008620494949085823 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0011302958969969105, 0.003690803596133498 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.02914265452313083, "name": "Primary parallel 1 turn 10", "orientation": "clockwise", "parallel": 1, "rotation": 72.972972975, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.001176820099586355, 0.00918995753272068 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0004902887840694367, 0.0038287356801189245 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.02914265452313083, "name": "Primary parallel 1 turn 11", "orientation": "clockwise", "parallel": 1, "rotation": 82.70270270500001, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.000393217748027129, 0.009256651921868754 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.00016382304450995337, 0.0038565220095427297 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 12", "orientation": "clockwise", "parallel": 1, "rotation": 92.43243243500001, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.0019249039022704705, 0.009062834543729898 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0008132219823703988, 0.0037733632222977905 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 13", "orientation": "clockwise", "parallel": 1, "rotation": 102.16216216500001, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.0032238951274641964, 0.008686007437661599 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.001439226004426285, 0.0035816516452864522 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 14", "orientation": "clockwise", "parallel": 1, "rotation": 111.89189189500001, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.004454322368783411, 0.00812399145955704 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.002023826114724724, 0.003286902471531249 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 15", "orientation": "clockwise", "parallel": 1, "rotation": 121.62162162500002, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.005589670087602109, 0.007388897976814014 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0025502044324702366, 0.0028975950981131177 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.02914265452313083, "name": "Primary parallel 1 turn 16", "orientation": "clockwise", "parallel": 1, "rotation": 131.35135135500002, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.007208501264158452, 0.005820458274451077 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.003003218011835038, 0.0024249291893557643 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 17", "orientation": "clockwise", "parallel": 1, "rotation": 141.08108108500002, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.00808847575876878, 0.004518493653841933 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.003369834476939827, 0.0018825024828742433 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.02914265452313083, "name": "Primary parallel 1 turn 18", "orientation": "clockwise", "parallel": 1, "rotation": 150.81081081500002, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.008735759532437179, 0.0030865401976052343 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0036395069395798716, 0.0012859196074210691 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 19", "orientation": "clockwise", "parallel": 1, "rotation": 160.54054054500003, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.009093795448253244, 0.0017728816501189795 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.003804477413996007, 0.0006523431661282783 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.02914265452313083, "name": "Primary parallel 1 turn 20", "orientation": "clockwise", "parallel": 1, "rotation": 170.27027027500003, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.009255017129700878, 0.00042998014947594855 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0038600000000000006, -3.368487513559597e-13 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 21", "orientation": "clockwise", "parallel": 1, "rotation": 180.00000000500003, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.009219001277372635, -0.0009220848376379185 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.003804477413882149, -0.0006523431667922903 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 22", "orientation": "clockwise", "parallel": 1, "rotation": 189.72972973500003, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.008735759531898474, -0.0030865401991299205 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0036395069393554357, -0.0012859196080562865 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 23", "orientation": "clockwise", "parallel": 1, "rotation": 199.45945946500004, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.008088475757980147, -0.004518493655253649 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.003369834476611265, -0.001882502483462395 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 24", "orientation": "clockwise", "parallel": 1, "rotation": 209.18918919500004, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.007208501263142584, -0.005820458275709205 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0030032180114118053, -0.0024249291898799283 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 25", "orientation": "clockwise", "parallel": 1, "rotation": 218.91891892500004, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.006250676980699391, -0.00683880561815839 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0025502044319645097, -0.002897595098558212 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 26", "orientation": "clockwise", "parallel": 1, "rotation": 228.64864865500004, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.005188376403954879, -0.007675999953809553 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.002023826114151047, -0.003286902471884476 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 27", "orientation": "clockwise", "parallel": 1, "rotation": 238.37837838500005, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.004015504171655784, -0.008349607849918162 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0014392260038011662, -0.0035816516455376463 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 28", "orientation": "clockwise", "parallel": 1, "rotation": 248.10810811500005, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.002756901474017388, -0.008845321885751857 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0008132219817118241, -0.0037733632224397247 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.02914265452313083, "name": "Primary parallel 1 turn 29", "orientation": "clockwise", "parallel": 1, "rotation": 257.837837845, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[-0.0003932177464115498, -0.009256651921937382 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.00016382304383686803, -0.0038565220095713214 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 30", "orientation": "clockwise", "parallel": 1, "rotation": 267.567567575, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.0011768201011903062, -0.009189957532515286 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0004902887847376775, -0.0038287356800333523 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 31", "orientation": "clockwise", "parallel": 1, "rotation": 277.297297305, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.0025812850546045544, -0.0088981566892742 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0011302958976410749, -0.003690803595936224 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 32", "orientation": "clockwise", "parallel": 1, "rotation": 287.02702703499995, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.00384945290591091, -0.008427451413397414 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0017377864554920972, -0.0034466938122073186 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 33", "orientation": "clockwise", "parallel": 1, "rotation": 296.7567567649999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.005035428157556212, -0.007777190255490093 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0022952840609956767, -0.003103428922875341 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 34", "orientation": "clockwise", "parallel": 1, "rotation": 306.4864864949999, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.0061140912975777865, -0.006961186149276831 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0027867505230739216, -0.002670884033826109 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 35", "orientation": "clockwise", "parallel": 1, "rotation": 316.21621622499987, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.007676141901064034, -0.005188166392351834 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0031980472464227926, -0.0021615026739857618 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 36", "orientation": "clockwise", "parallel": 1, "rotation": 325.94594595499984, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.008442531964067126, -0.0038162650636066795 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0035173419731569463, -0.00158993881764941 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 37", "orientation": "clockwise", "parallel": 1, "rotation": 335.6756756849998, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.008940131437944992, -0.0024319282210352408 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0037354491753261772, -0.0009726353163210687 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 38", "orientation": "clockwise", "parallel": 1, "rotation": 345.4054054149998, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.009198944334384363, -0.0011043768074791517 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.003846094305830513, -0.0003273508678132824 ], "dimensions": [0.00043, 0.00043 ], "layer": "Primary section 0 layer 1", "length": 0.029142654523130834, "name": "Primary parallel 1 turn 39", "orientation": "clockwise", "parallel": 1, "rotation": 355.13513514499977, "section": "Primary section 0", "winding": "Primary" }, {"additionalCoordinates": [[0.009847035518027202, 0.002427076271655279 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.002896575770023631, 0.0007139418058973789 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 0", "orientation": "clockwise", "parallel": 0, "rotation": 13.846153846, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": [[0.007591198350538675, 0.006725214890581583 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0022330051686478476, 0.00197826995389608 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 1", "orientation": "clockwise", "parallel": 0, "rotation": 41.538461538, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": [[0.003596309124837045, 0.009482687825734597 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0010578799937755131, 0.0027894002962044586 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 2", "orientation": "clockwise", "parallel": 0, "rotation": 69.23076922999999, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": [[-0.0012224511811235598, 0.01006779125883582 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0003595927388295514, 0.0029615126465840163 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 3", "orientation": "clockwise", "parallel": 0, "rotation": 96.92307692199999, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": [[-0.005761162653628625, 0.00834648504462544 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0016946871085328425, 0.0024551781397423272 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 4", "orientation": "clockwise", "parallel": 0, "rotation": 124.61538461399999, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": [[-0.0089800611917526, 0.004713099692781835 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0026415490848733483, 0.0013863919092020048 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 5", "orientation": "clockwise", "parallel": 0, "rotation": 152.30769230599998, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": [[-0.01014173593235997, 3.540252312233128e-13 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0029832640000000002, 1.0413904823041672e-13 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 6", "orientation": "clockwise", "parallel": 0, "rotation": 179.99999999799996, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": [[-0.008980061192081642, -0.004713099692154895 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.002641549084970138, -0.0013863919090175857 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 7", "orientation": "clockwise", "parallel": 0, "rotation": 207.69230768999995, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": [[-0.005761162654211336, -0.008346485044223223 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.001694687108704251, -0.0024551781396240126 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 8", "orientation": "clockwise", "parallel": 0, "rotation": 235.38461538199994, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": [[-0.0012224511818264454, -0.010067791258750475 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [-0.0003595927390363103, -0.002961512646558911 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 9", "orientation": "clockwise", "parallel": 0, "rotation": 263.0769230739999, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": [[0.003596309124175015, -0.009482687825985672 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0010578799935807724, -0.002789400296278314 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 10", "orientation": "clockwise", "parallel": 0, "rotation": 290.7692307659999, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": [[0.007591198350069152, -0.006725214891111565 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.002233005168509734, -0.001978269954051978 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 11", "orientation": "clockwise", "parallel": 0, "rotation": 318.4615384579999, "section": "Secondary section 0", "winding": "Secondary" }, {"additionalCoordinates": [[0.009847035517857754, -0.002427076272342755 ] ], "angle": null, "coordinateSystem": "cartesian", "coordinates": [0.0028965757699737867, -0.0007139418060996049 ], "dimensions": [0.0012734718647199371, 0.0012734718647199371 ], "layer": "Secondary section 0 layer 0", "length": 0.034651349276606236, "name": "Secondary parallel 0 turn 12", "orientation": "clockwise", "parallel": 0, "rotation": 346.1538461499999, "section": "Secondary section 0", "winding": "Secondary" } ] }, "core": {"distributorsInfo": [], "functionalDescription": {"coating": null, "gapping": [], "material": "Mix 125", "numberStacks": 1, "shape": {"aliases": [], "dimensions": {"A": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0181 }, "B": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.00901 }, "C": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.008 } }, "family": "t", "familySubtype": null, "magneticCircuit": "closed", "name": "T 18/9.0/8.0", "type": "standard" }, "type": "toroidal", "magneticCircuit": "closed" }, "geometricalDescription": [{"coordinates": [0, 0, 0 ], "dimensions": null, "insulationMaterial": null, "machining": null, "material": "3C95", "rotation": [1.5707963267948966, 1.5707963267948966, 0 ], "shape": {"aliases": [], "dimensions": {"A": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.0181 }, "B": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.00901 }, "C": {"excludeMaximum": null, "excludeMinimum": null, "maximum": null, "minimum": null, "nominal": 0.008 } }, "family": "t", "familySubtype": null, "magneticCircuit": "closed", "name": "T 18/9.0/8.0", "type": "standard" }, "type": "toroidal" } ], "manufacturerInfo": null, "name": "Custom", "processedDescription": {"columns": [{"area": 0.000037, "coordinates": [0, 0, 0 ], "depth": 0.008, "height": 0.04258428841940965, "minimumDepth": null, "minimumWidth": null, "shape": "rectangular", "type": "central", "width": 0.004545 } ], "depth": 0.008, "effectiveParameters": {"effectiveArea": 0.000036360000000000004, "effectiveLength": 0.042584288419409644, "effectiveVolume": 0.000001548364726929735, "minimumArea": 0.000036360000000000004 }, "height": 0.0181, "width": 0.0181, "windingWindows": [{"angle": 360, "area": 0.0000637587014444212, "coordinates": [0.004545, 0 ], "height": null, "radialHeight": 0.004505, "sectionsAlignment": null, "sectionsOrientation": null, "shape": null, "width": null } ] } }, "manufacturerInfo": {"name": "OpenMagnetics", "reference": "My custom magnetic" }})"));

        std::string filePath = __FILE__;
        auto flyback_jsimba_path = filePath.substr(0, filePath.rfind("/")).append("/testData/flyback.jsimba");
        auto jsimbaFile = outputFilePath;
        jsimbaFile.append("./Test_CircuitSimulatorExporter_Simba_Json_Toroidal_Core.jsimba");

        std::filesystem::remove(jsimbaFile);
        CircuitSimulatorExporter().export_magnetic_as_subcircuit(magnetic, 10000, 100, jsimbaFile, flyback_jsimba_path);
        CHECK(std::filesystem::exists(jsimbaFile));
    }

    TEST(Test_CircuitSimulatorExporter_Simba_Json_Ep_Core) {
        OpenMagnetics::Magnetic magnetic(json::parse(R"({"coil": {"bobbin": {"processedDescription": {"columnDepth": 0.003912540921738127, "columnShape": "round", "columnThickness": 0.0010750409217381266, "columnWidth": 0.003912540921738127, "coordinates": [0, 0, 0 ], "wallThickness": 0.0007636652757989004, "windingWindows": [{"area": 0.000020400047558919626, "coordinates": [0.004956270460869064, 0, 0 ], "height": 0.009772669448402199, "sectionsAlignment": "inner or top", "sectionsOrientation": "overlapping", "shape": "rectangular", "width": 0.002087459078261874 } ] } }, "functionalDescription": [{"isolationSide": "primary", "name": "Primary", "numberParallels": 1, "numberTurns": 32, "wire": {"coating": {"breakdownVoltage": 2700, "grade": 1, "type": "enamelled" }, "conductingArea": {"nominal": 3.247220852585116e-7 }, "conductingDiameter": {"nominal": 0.000643 }, "manufacturerInfo": {"name": "Nearson" }, "material": "copper", "name": "Round 22.0 - Single Build", "numberConductors": 1, "outerDiameter": {"nominal": 0.000676 }, "standard": "NEMA MW 1000 C", "standardName": "22 AWG", "type": "round" } } ], "layersDescription": [{"coordinateSystem": "cartesian", "coordinates": [0.004250540921738127, 0 ], "dimensions": [0.000676, 0.00956024 ], "fillingFactor": 0.7608975254162273, "name": "Primary section 0 layer 0", "orientation": "overlapping", "partialWindings": [{"parallelsProportion": [0.34375 ], "winding": "Primary" } ], "section": "Primary section 0", "turnsAlignment": "spread", "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"coordinateSystem": "cartesian", "coordinates": [0.004926540921738128, 0 ], "dimensions": [0.000676, 0.00956024 ], "fillingFactor": 0.7608975254162273, "name": "Primary section 0 layer 1", "orientation": "overlapping", "partialWindings": [{"parallelsProportion": [0.34375 ], "winding": "Primary" } ], "section": "Primary section 0", "turnsAlignment": "spread", "type": "conduction", "windingStyle": "windByConsecutiveTurns" }, {"coordinateSystem": "cartesian", "coordinates": [0.005602540921738127, -3.500000000326159e-9 ], "dimensions": [0.000676, 0.009471403 ], "fillingFactor": 0.6917250231056612, "name": "Primary section 0 layer 2", "orientation": "overlapping", "partialWindings": [{"parallelsProportion": [0.3125 ], "winding": "Primary" } ], "section": "Primary section 0", "turnsAlignment": "spread", "type": "conduction", "windingStyle": "windByConsecutiveTurns" } ], "sectionsDescription": [{"coordinateSystem": "cartesian", "coordinates": [0.004926540921738127, 0 ], "dimensions": [0.002028, 0.00956024 ], "fillingFactor": 0.7168234537694711, "layersOrientation": "overlapping", "margin": [0, 0 ], "name": "Primary section 0", "partialWindings": [{"parallelsProportion": [1 ], "winding": "Primary" } ], "type": "conduction", "windingStyle": "windByConsecutiveTurns" } ], "turnsDescription": [{"coordinateSystem": "cartesian", "coordinates": [0.004250540921738127, 0.00444212 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 0", "length": 0.02670693626703058, "name": "Primary parallel 0 turn 0", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004250540921738127, 0.003553696 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 0", "length": 0.02670693626703058, "name": "Primary parallel 0 turn 1", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004250540921738127, 0.0026652719999999998 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 0", "length": 0.02670693626703058, "name": "Primary parallel 0 turn 2", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004250540921738127, 0.0017768479999999997 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 0", "length": 0.02670693626703058, "name": "Primary parallel 0 turn 3", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004250540921738127, 0.0008884239999999997 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 0", "length": 0.02670693626703058, "name": "Primary parallel 0 turn 4", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004250540921738127, -2.168404344971009e-19 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 0", "length": 0.02670693626703058, "name": "Primary parallel 0 turn 5", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004250540921738127, -0.0008884240000000001 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 0", "length": 0.02670693626703058, "name": "Primary parallel 0 turn 6", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004250540921738127, -0.0017768480000000001 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 0", "length": 0.02670693626703058, "name": "Primary parallel 0 turn 7", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004250540921738127, -0.002665272 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 0", "length": 0.02670693626703058, "name": "Primary parallel 0 turn 8", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004250540921738127, -0.0035536960000000003 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 0", "length": 0.02670693626703058, "name": "Primary parallel 0 turn 9", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004250540921738127, -0.00444212 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 0", "length": 0.02670693626703058, "name": "Primary parallel 0 turn 10", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004926540921738128, 0.00444212 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 1", "length": 0.03095436953468398, "name": "Primary parallel 0 turn 11", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004926540921738128, 0.003553696 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 1", "length": 0.03095436953468398, "name": "Primary parallel 0 turn 12", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004926540921738128, 0.0026652719999999998 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 1", "length": 0.03095436953468398, "name": "Primary parallel 0 turn 13", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004926540921738128, 0.0017768479999999997 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 1", "length": 0.03095436953468398, "name": "Primary parallel 0 turn 14", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004926540921738128, 0.0008884239999999997 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 1", "length": 0.03095436953468398, "name": "Primary parallel 0 turn 15", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004926540921738128, -2.168404344971009e-19 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 1", "length": 0.03095436953468398, "name": "Primary parallel 0 turn 16", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004926540921738128, -0.0008884240000000001 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 1", "length": 0.03095436953468398, "name": "Primary parallel 0 turn 17", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004926540921738128, -0.0017768480000000001 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 1", "length": 0.03095436953468398, "name": "Primary parallel 0 turn 18", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004926540921738128, -0.002665272 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 1", "length": 0.03095436953468398, "name": "Primary parallel 0 turn 19", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004926540921738128, -0.0035536960000000003 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 1", "length": 0.03095436953468398, "name": "Primary parallel 0 turn 20", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.004926540921738128, -0.00444212 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 1", "length": 0.03095436953468398, "name": "Primary parallel 0 turn 21", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.005602540921738127, 0.004397697999999999 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 2", "length": 0.035201802802337374, "name": "Primary parallel 0 turn 22", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.005602540921738127, 0.0034204309999999994 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 2", "length": 0.035201802802337374, "name": "Primary parallel 0 turn 23", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.005602540921738127, 0.0024431639999999994 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 2", "length": 0.035201802802337374, "name": "Primary parallel 0 turn 24", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.005602540921738127, 0.0014658969999999994 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 2", "length": 0.035201802802337374, "name": "Primary parallel 0 turn 25", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.005602540921738127, 0.0004886299999999994 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 2", "length": 0.035201802802337374, "name": "Primary parallel 0 turn 26", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.005602540921738127, -0.0004886370000000005 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 2", "length": 0.035201802802337374, "name": "Primary parallel 0 turn 27", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.005602540921738127, -0.0014659040000000005 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 2", "length": 0.035201802802337374, "name": "Primary parallel 0 turn 28", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.005602540921738127, -0.0024431710000000005 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 2", "length": 0.035201802802337374, "name": "Primary parallel 0 turn 29", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.005602540921738127, -0.0034204380000000005 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 2", "length": 0.035201802802337374, "name": "Primary parallel 0 turn 30", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" }, {"coordinateSystem": "cartesian", "coordinates": [0.005602540921738127, -0.004397705 ], "dimensions": [0.000676, 0.000676 ], "layer": "Primary section 0 layer 2", "length": 0.035201802802337374, "name": "Primary parallel 0 turn 31", "orientation": "clockwise", "parallel": 0, "rotation": 0, "section": "Primary section 0", "winding": "Primary" } ] }, "core": {"functionalDescription": {"gapping": [{"area": 0.000026, "coordinates": [0, 0, 0 ], "distanceClosestNormalSurface": 0.005443, "distanceClosestParallelSurface": 0.0031625000000000004, "length": 0.000414, "sectionDimensions": [0.005675, 0.005675 ], "shape": "round", "type": "subtractive" }, {"area": 0.000163, "coordinates": [0, 0, -0.007038 ], "distanceClosestNormalSurface": 0.005648, "distanceClosestParallelSurface": 0.0031625000000000004, "length": 0.000005, "sectionDimensions": [0.078555, 0.002075 ], "shape": "irregular", "type": "residual" } ], "material": {"coerciveForce": [{"magneticField": 10, "magneticFluxDensity": 0, "temperature": 100 }, {"magneticField": 13, "magneticFluxDensity": 0, "temperature": 25 } ], "curieTemperature": 220, "density": 4800, "family": "3C", "heatCapacity": {"maximum": 800, "minimum": 700 }, "heatConductivity": {"maximum": 5, "minimum": 3.5 }, "manufacturerInfo": {"datasheetUrl": "https://www.ferroxcube.com/upload/media/product/file/MDS/3c91.pdf", "name": "Ferroxcube" }, "material": "ferrite", "name": "3C91", "permeability": {"complex": {"imaginary": [{"frequency": 100000, "value": 24.765 }, {"frequency": 120000, "value": 27.740000000000002 }, {"frequency": 150000, "value": 32.42 }, {"frequency": 200000, "value": 42.215 }, {"frequency": 250000, "value": 55.095 }, {"frequency": 300000, "value": 70.695 }, {"frequency": 450000, "value": 168.2 }, {"frequency": 400000, "value": 122.15 }, {"frequency": 500000, "value": 240.15 }, {"frequency": 550000, "value": 352.54999999999995 }, {"frequency": 600000, "value": 512.6500000000001 }, {"frequency": 650000, "value": 716.05 }, {"frequency": 700000, "value": 944.2 }, {"frequency": 750000, "value": 1183 }, {"frequency": 800000, "value": 1426 }, {"frequency": 850000, "value": 1676.5 }, {"frequency": 900000, "value": 1932.5 }, {"frequency": 950000, "value": 2199 }, {"frequency": 1000000, "value": 2462 }, {"frequency": 1100000, "value": 2940.5 }, {"frequency": 1200000, "value": 3282 }, {"frequency": 1300000, "value": 3438.5 }, {"frequency": 1400000, "value": 3430 }, {"frequency": 1500000, "value": 3315 }, {"frequency": 1600000, "value": 3144.5 }, {"frequency": 1700000, "value": 2951 }, {"frequency": 1800000, "value": 2758.5 }, {"frequency": 1900000, "value": 2572 }, {"frequency": 2000000, "value": 2397.5 }, {"frequency": 2200000, "value": 2088.5 }, {"frequency": 2400000, "value": 1828.5 }, {"frequency": 2600000, "value": 1613.5 }, {"frequency": 2800000, "value": 1434 }, {"frequency": 3000000, "value": 1284 }, {"frequency": 3500000, "value": 1005 }, {"frequency": 4000000, "value": 816.15 }, {"frequency": 4500000, "value": 683.2 }, {"frequency": 5000000, "value": 586.45 }, {"frequency": 6000000, "value": 457.6 }, {"frequency": 7000000, "value": 377.35 }, {"frequency": 8000000, "value": 322.75 }, {"frequency": 9000000, "value": 282.4 }, {"frequency": 10000000, "value": 250.75 }, {"frequency": 15000000, "value": 156.14999999999998 }, {"frequency": 20000000, "value": 109.55000000000001 }, {"frequency": 25000000, "value": 82.515 }, {"frequency": 30000000, "value": 65.44 } ], "real": [{"frequency": 100000, "value": 3020.5 }, {"frequency": 120000, "value": 3026 }, {"frequency": 150000, "value": 3040 }, {"frequency": 200000, "value": 3069 }, {"frequency": 250000, "value": 3110 }, {"frequency": 300000, "value": 3163.5 }, {"frequency": 450000, "value": 3422 }, {"frequency": 400000, "value": 3315.5 }, {"frequency": 500000, "value": 3546 }, {"frequency": 550000, "value": 3683 }, {"frequency": 600000, "value": 3813.5 }, {"frequency": 650000, "value": 3917.5 }, {"frequency": 700000, "value": 3983.5 }, {"frequency": 750000, "value": 4013.5 }, {"frequency": 800000, "value": 4015.5 }, {"frequency": 850000, "value": 3993 }, {"frequency": 900000, "value": 3942.5 }, {"frequency": 950000, "value": 3858 }, {"frequency": 1000000, "value": 3729 }, {"frequency": 1100000, "value": 3352.5 }, {"frequency": 1200000, "value": 2832 }, {"frequency": 1300000, "value": 2265 }, {"frequency": 1400000, "value": 1735 }, {"frequency": 1500000, "value": 1290.5 }, {"frequency": 1600000, "value": 936.55 }, {"frequency": 1700000, "value": 665 }, {"frequency": 1800000, "value": 453.1 }, {"frequency": 1900000, "value": 290.95000000000005 }, {"frequency": 2000000, "value": 165.95 }, {"frequency": 2200000, "value": -5.3485 }, {"frequency": 2400000, "value": -106.03 }, {"frequency": 2600000, "value": -164.6 }, {"frequency": 2800000, "value": -196.10000000000002 }, {"frequency": 3000000, "value": -210.8 }, {"frequency": 3500000, "value": -210 }, {"frequency": 4000000, "value": -187.75 }, {"frequency": 4500000, "value": -161.14999999999998 }, {"frequency": 5000000, "value": -136.05 }, {"frequency": 6000000, "value": -95.4 }, {"frequency": 7000000, "value": -67.56 }, {"frequency": 8000000, "value": -49.28 }, {"frequency": 9000000, "value": -37.33 }, {"frequency": 10000000, "value": -29.18 }, {"frequency": 15000000, "value": -8.4265 }, {"frequency": 20000000, "value": 2.4785 }, {"frequency": 25000000, "value": 10.051 }, {"frequency": 30000000, "value": 15.82 } ] }, "initial": [{"frequency": 10000, "temperature": -40, "value": 1773 }, {"frequency": 10000, "temperature": -30, "value": 1900 }, {"frequency": 10000, "temperature": -20, "value": 2080 }, {"frequency": 10000, "temperature": -10, "value": 2261 }, {"frequency": 10000, "temperature": 0, "value": 2469 }, {"frequency": 10000, "temperature": 10, "value": 2706 }, {"frequency": 10000, "temperature": 20, "value": 2967 }, {"frequency": 10000, "temperature": 30, "value": 3322 }, {"frequency": 10000, "temperature": 40, "value": 3636 }, {"frequency": 10000, "temperature": 50, "value": 3927 }, {"frequency": 10000, "temperature": 60, "value": 4174 }, {"frequency": 10000, "temperature": 70, "value": 4112 }, {"frequency": 10000, "temperature": 80, "value": 3943 }, {"frequency": 10000, "temperature": 90, "value": 3780 }, {"frequency": 10000, "temperature": 100, "value": 3663 }, {"frequency": 10000, "temperature": 110, "value": 3588 }, {"frequency": 10000, "temperature": 120, "value": 3569 }, {"frequency": 10000, "temperature": 130, "value": 3581 }, {"frequency": 10000, "temperature": 140, "value": 3628 }, {"frequency": 10000, "temperature": 150, "value": 3640 }, {"frequency": 10000, "temperature": 160, "value": 3755 }, {"frequency": 10000, "temperature": 170, "value": 3913 }, {"frequency": 10000, "temperature": 180, "value": 4111 } ] }, "remanence": [{"magneticField": 0, "magneticFluxDensity": 0.09, "temperature": 100 }, {"magneticField": 0, "magneticFluxDensity": 0.145, "temperature": 25 } ], "resistivity": [{"temperature": 25, "value": 5 } ], "saturation": [{"magneticField": 1200, "magneticFluxDensity": 0.37, "temperature": 100 }, {"magneticField": 1200, "magneticFluxDensity": 0.47, "temperature": 25 } ], "type": "commercial", "volumetricLosses": {"default": [{"coefficients": {"excessLossesCoefficient": 1.83636632e-19, "resistivityFrequencyCoefficient": 2.64297097e-8, "resistivityMagneticFluxDensityCoefficient": 8.05616199e-20, "resistivityOffset": 0.16808664, "resistivityTemperatureCoefficient": 3.01105757e-37 }, "method": "roshen" }, {"method": "steinmetz", "ranges": [{"alpha": 1.4, "beta": 2.5, "ct0": 0.88, "ct1": 0.013000000000000001, "ct2": 0.00014199999999900002, "k": 3.5, "maximumFrequency": 100000, "minimumFrequency": 1 }, {"alpha": 1.4, "beta": 2.5, "ct0": 0.88, "ct1": 0.013000000000000001, "ct2": 0.00014199999999900002, "k": 3.5, "maximumFrequency": 200000, "minimumFrequency": 100000 }, {"alpha": 4.05, "beta": 2.5, "ct0": 0.88, "ct1": 0.013000000000000001, "ct2": 0.00014199999999900002, "k": 3.33e-14, "maximumFrequency": 400001, "minimumFrequency": 200000 } ] } ] } }, "numberStacks": 1, "shape": {"dimensions": {"A": {"maximum": 0.0184, "minimum": 0.0176 }, "B": {"maximum": 0.0085, "minimum": 0.0083 }, "C": {"maximum": 0.01125, "minimum": 0.01075 }, "D": {"maximum": 0.0058, "minimum": 0.0055 }, "E": {"maximum": 0.0124, "minimum": 0.0116 }, "F": {"maximum": 0.00585, "minimum": 0.0055 }, "K": {"maximum": 0.002925 } }, "family": "ep", "magneticCircuit": "open", "name": "EP 17", "type": "standard" }, "type": "two-piece set", "magneticCircuit": "open" }, "geometricalDescription": [{"coordinates": [0, 0, 0 ], "machining": [{"coordinates": [0, 0.0001035, 0 ], "length": 0.000207 } ], "material": "3C91", "rotation": [3.141592653589793, 3.141592653589793, 0 ], "shape": {"dimensions": {"A": {"maximum": 0.0184, "minimum": 0.0176 }, "B": {"maximum": 0.0085, "minimum": 0.0083 }, "C": {"maximum": 0.01125, "minimum": 0.01075 }, "D": {"maximum": 0.0058, "minimum": 0.0055 }, "E": {"maximum": 0.0124, "minimum": 0.0116 }, "F": {"maximum": 0.00585, "minimum": 0.0055 }, "K": {"maximum": 0.002925 } }, "family": "ep", "magneticCircuit": "open", "name": "EP 17", "type": "standard" }, "type": "half set" }, {"coordinates": [0, 0, 0 ], "machining": [{"coordinates": [0, -0.0001035, 0 ], "length": 0.000207 } ], "material": "3C91", "rotation": [0, 0, 0 ], "shape": {"dimensions": {"A": {"maximum": 0.0184, "minimum": 0.0176 }, "B": {"maximum": 0.0085, "minimum": 0.0083 }, "C": {"maximum": 0.01125, "minimum": 0.01075 }, "D": {"maximum": 0.0058, "minimum": 0.0055 }, "E": {"maximum": 0.0124, "minimum": 0.0116 }, "F": {"maximum": 0.00585, "minimum": 0.0055 }, "K": {"maximum": 0.002925 } }, "family": "ep", "magneticCircuit": "open", "name": "EP 17", "type": "standard" }, "type": "half set" } ], "manufacturerInfo": {"datasheetUrl": "https://ferroxcube.com/upload/media/product/file/Pr_ds/EP17.pdf", "name": "Ferroxcube", "reference": "EP17-3C91-A100", "status": "production" }, "name": "EP 17 - 3C91 - Gapped 0.414 mm", "processedDescription": {"columns": [{"area": 0.000026, "coordinates": [0, 0, 0 ], "depth": 0.005675, "height": 0.0113, "shape": "round", "type": "central", "width": 0.005675 }, {"area": 0.000163, "coordinates": [0, 0, -0.007038 ], "depth": 0.002075, "height": 0.0113, "minimumWidth": 0.003001, "shape": "irregular", "type": "lateral", "width": 0.078555 } ], "depth": 0.011, "effectiveParameters": {"effectiveArea": 0.000034461049794381896, "effectiveLength": 0.02849715978271948, "effectiveVolume": 9.820420422707531e-7, "minimumArea": 0.000025790801226066944 }, "height": 0.016800000000000002, "width": 0.018000000000000002, "windingWindows": [{"area": 0.00003573625, "coordinates": [0.0028374999999999997, 0 ], "height": 0.0113, "width": 0.0031625000000000004 } ] } }, "manufacturerInfo": {"name": "OpenMagnetics", "reference": "My custom magnetic" }})"));

        std::string filePath = __FILE__;
        auto flyback_jsimba_path = filePath.substr(0, filePath.rfind("/")).append("/testData/flyback.jsimba");
        auto jsimbaFile = outputFilePath;
        jsimbaFile.append("./Test_CircuitSimulatorExporter_Simba_Json_Ep_Core.jsimba");

        std::filesystem::remove(jsimbaFile);
        CircuitSimulatorExporter().export_magnetic_as_subcircuit(magnetic, 10000, 100, jsimbaFile, flyback_jsimba_path);
        CHECK(std::filesystem::exists(jsimbaFile));
    }
}

SUITE(CircuitSimulatorExporterNgspice) {
    auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");

    TEST(Test_CircuitSimulatorExporter_Ngspice_Only_Magnetic) {
        std::vector<int64_t> numberTurns = {30, 10};
        std::vector<int64_t> numberParallels = {1, 1};
        std::string shapeName = "PQ 35/35";
        std::vector<OpenMagnetics::Wire> wires;

        auto coil = OpenMagneticsTesting::get_quick_coil(numberTurns,
                                                         numberParallels,
                                                         shapeName);

        int64_t numberStacks = 1;
        std::string coreMaterial = "95";
        auto gapping = OpenMagneticsTesting::get_distributed_gap(0.0003, 3);
        auto core = OpenMagneticsTesting::get_quick_core(shapeName, gapping, numberStacks, coreMaterial);
        OpenMagnetics::Magnetic magnetic;
        magnetic.set_core(core);
        magnetic.set_coil(coil);

        auto cirFile = outputFilePath;
        cirFile.append("./Test_CircuitSimulatorExporter_Ngspice_Only_Magnetic.cir");

        std::filesystem::remove(cirFile);
        CircuitSimulatorExporter(CircuitSimulatorExporterModels::NGSPICE).export_magnetic_as_subcircuit(magnetic, 10000, 100, cirFile);
        CHECK(std::filesystem::exists(cirFile));
    }
}

SUITE(CircuitSimulatorExporterLtspice) {
    double max_error = 0.01;
    auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");

    TEST(Test_CircuitSimulatorExporter_Ltspice_Only_Magnetic_Analytical) {
        std::vector<int64_t> numberTurns = {30, 10};
        std::vector<int64_t> numberParallels = {1, 1};
        std::string shapeName = "PQ 35/35";
        std::vector<OpenMagnetics::Wire> wires;

        auto coil = OpenMagneticsTesting::get_quick_coil(numberTurns,
                                                         numberParallels,
                                                         shapeName);

        int64_t numberStacks = 1;
        std::string coreMaterial = "95";
        auto gapping = OpenMagneticsTesting::get_distributed_gap(0.0003, 3);
        auto core = OpenMagneticsTesting::get_quick_core(shapeName, gapping, numberStacks, coreMaterial);
        OpenMagnetics::Magnetic magnetic;
        magnetic.set_core(core);
        magnetic.set_coil(coil);

        auto cirFile = outputFilePath;
        cirFile.append("./Custom_component_made_with_OpenMagnetic.cir");
        std::filesystem::remove(cirFile);
        CircuitSimulatorExporter(CircuitSimulatorExporterModels::LTSPICE).export_magnetic_as_subcircuit(magnetic, 10000, 100, cirFile, std::nullopt, CircuitSimulatorExporterCurveFittingModes::ANALYTICAL);
        CHECK(std::filesystem::exists(cirFile));

        auto asyFile = outputFilePath;
        asyFile.append("./Custom_component_made_with_OpenMagnetic.asy");
        std::filesystem::remove(asyFile);
        CircuitSimulatorExporter(CircuitSimulatorExporterModels::LTSPICE).export_magnetic_as_symbol(magnetic, asyFile);
        CHECK(std::filesystem::exists(asyFile));
    }

    TEST(Test_CircuitSimulatorExporter_Ltspice_Only_Magnetic_Ladder) {
        std::vector<int64_t> numberTurns = {30, 10};
        std::vector<int64_t> numberParallels = {1, 1};
        std::string shapeName = "PQ 35/35";
        std::vector<OpenMagnetics::Wire> wires;

        auto coil = OpenMagneticsTesting::get_quick_coil(numberTurns,
                                                         numberParallels,
                                                         shapeName);

        int64_t numberStacks = 1;
        std::string coreMaterial = "95";
        auto gapping = OpenMagneticsTesting::get_distributed_gap(0.0003, 3);
        auto core = OpenMagneticsTesting::get_quick_core(shapeName, gapping, numberStacks, coreMaterial);
        OpenMagnetics::Magnetic magnetic;
        magnetic.set_core(core);
        magnetic.set_coil(coil);

        auto cirFile = outputFilePath;
        cirFile.append("./Custom_component_made_with_OpenMagnetic.cir");
        std::filesystem::remove(cirFile);
        CircuitSimulatorExporter(CircuitSimulatorExporterModels::LTSPICE).export_magnetic_as_subcircuit(magnetic, 10000, 100, cirFile);
        CHECK(std::filesystem::exists(cirFile));

        auto asyFile = outputFilePath;
        asyFile.append("./Custom_component_made_with_OpenMagnetic.asy");
        std::filesystem::remove(asyFile);
        CircuitSimulatorExporter(CircuitSimulatorExporterModels::LTSPICE).export_magnetic_as_symbol(magnetic, asyFile);
        CHECK(std::filesystem::exists(asyFile));
    }

    TEST(Test_CircuitSimulatorExporter_Ac_Resistance_Coefficients_Analytical) {
        std::vector<int64_t> numberTurns = {30};
        std::vector<int64_t> numberParallels = {1};
        std::string shapeName = "PQ 35/35";
        std::vector<OpenMagnetics::Wire> wires;

        auto coil = OpenMagneticsTesting::get_quick_coil(numberTurns,
                                                         numberParallels,
                                                         shapeName);

        int64_t numberStacks = 1;
        std::string coreMaterial = "95";
        auto gapping = OpenMagneticsTesting::get_distributed_gap(0.0003, 3);
        auto core = OpenMagneticsTesting::get_quick_core(shapeName, gapping, numberStacks, coreMaterial);
        OpenMagnetics::Magnetic magnetic;
        magnetic.set_core(core);
        magnetic.set_coil(coil);

        auto coefficientsPerWinding = CircuitSimulatorExporter(CircuitSimulatorExporterModels::LTSPICE).calculate_ac_resistance_coefficients_per_winding(magnetic, 42, CircuitSimulatorExporterCurveFittingModes::ANALYTICAL);

        size_t numberElements = 100;
        size_t windingIndex = 0;
        double startingFrequency = 0.1;
        double endingFrequency = 1000000;

        Curve2D windingAcResistanceData = Sweeper().sweep_winding_resistance_over_frequency(magnetic, startingFrequency, endingFrequency, numberElements, windingIndex);
        auto frequenciesVector = windingAcResistanceData.get_x_points();
        auto acResistanceVector = windingAcResistanceData.get_y_points();

        double errorAverage = 0;
        for (size_t index = 0; index < acResistanceVector.size(); ++index) {
            double c[coefficientsPerWinding[0].size()];
            for (size_t coefficientIndex = 0; coefficientIndex < coefficientsPerWinding[0].size(); ++coefficientIndex) {
                c[coefficientIndex] = coefficientsPerWinding[0][coefficientIndex];
            }
            auto frequency = frequenciesVector[index];
            double modeledAcResistance = CircuitSimulatorExporter::analytical_model(c, frequency);
            double error = fabs(acResistanceVector[index] - modeledAcResistance) / acResistanceVector[index];
            errorAverage += error;
        }

        errorAverage /= acResistanceVector.size();

        std::cout << "errorAverage: " << errorAverage << std::endl;
        CHECK(0.25 > errorAverage);
    }

    TEST(Test_CircuitSimulatorExporter_Ac_Resistance_Coefficients_Ladder) {
        std::vector<int64_t> numberTurns = {10};
        std::vector<int64_t> numberParallels = {1};
        std::string shapeName = "PQ 35/35";
        std::vector<OpenMagnetics::Wire> wires;

        auto coil = OpenMagneticsTesting::get_quick_coil(numberTurns,
                                                         numberParallels,
                                                         shapeName);

        int64_t numberStacks = 1;
        std::string coreMaterial = "95";
        auto gapping = OpenMagneticsTesting::get_distributed_gap(0.0003, 3);
        auto core = OpenMagneticsTesting::get_quick_core(shapeName, gapping, numberStacks, coreMaterial);
        OpenMagnetics::Magnetic magnetic;
        magnetic.set_core(core);
        magnetic.set_coil(coil);

        auto coefficientsPerWinding = CircuitSimulatorExporter(CircuitSimulatorExporterModels::LTSPICE).calculate_ac_resistance_coefficients_per_winding(magnetic, 42, CircuitSimulatorExporterCurveFittingModes::LADDER);

        size_t numberElements = 100;
        size_t windingIndex = 0;
        double startingFrequency = 0.1;
        double endingFrequency = 1000000;

        Curve2D windingAcResistanceData = Sweeper().sweep_winding_resistance_over_frequency(magnetic, startingFrequency, endingFrequency, numberElements, windingIndex);
        auto frequenciesVector = windingAcResistanceData.get_x_points();
        auto acResistanceVector = windingAcResistanceData.get_y_points();

        for (size_t coefficientIndex = 0; coefficientIndex < coefficientsPerWinding[0].size(); ++coefficientIndex) {
            std::cout << coefficientIndex << std::endl;
            std::cout << coefficientsPerWinding[0][coefficientIndex] << std::endl;
        }

        double errorAverage = 0;
        for (size_t index = 0; index < acResistanceVector.size(); ++index) {
            double c[coefficientsPerWinding[0].size()];
            for (size_t coefficientIndex = 0; coefficientIndex < coefficientsPerWinding[0].size(); ++coefficientIndex) {
                c[coefficientIndex] = coefficientsPerWinding[0][coefficientIndex];
            }
            auto frequency = frequenciesVector[index];
            double modeledAcResistance = CircuitSimulatorExporter::ladder_model(c, frequency, acResistanceVector[0]);
            double error = fabs(acResistanceVector[index] - modeledAcResistance) / acResistanceVector[index];
            errorAverage += error;
        }

        errorAverage /= acResistanceVector.size();
        std::cout << "errorAverage: " << errorAverage << std::endl;

        CHECK(0.01 > errorAverage);
    }

    TEST(Test_CircuitSimulatorExporter_Core_Resistance_Coefficients_Ladder) {
        std::vector<int64_t> numberTurns = {10, 10};
        std::vector<int64_t> numberParallels = {1, 1};
        std::string shapeName = "PQ 35/35";
        std::vector<OpenMagnetics::Wire> wires;

        auto coil = OpenMagneticsTesting::get_quick_coil(numberTurns,
                                                         numberParallels,
                                                         shapeName);

        int64_t numberStacks = 1;
        std::string coreMaterial = "3C97";
        auto gapping = OpenMagneticsTesting::get_distributed_gap(0.0003, 3);
        auto core = OpenMagneticsTesting::get_quick_core(shapeName, gapping, numberStacks, coreMaterial);
        OpenMagnetics::Magnetic magnetic;
        magnetic.set_core(core);
        magnetic.set_coil(coil);

        auto coefficients = CircuitSimulatorExporter(CircuitSimulatorExporterModels::LTSPICE).calculate_core_resistance_coefficients(magnetic);

        size_t numberElements = 20;
        double startingFrequency = 1000;
        double endingFrequency = 300000;

        Curve2D windingCoreResistanceData = Sweeper().sweep_core_resistance_over_frequency(magnetic, startingFrequency, endingFrequency, numberElements, 25);
        auto frequenciesVector = windingCoreResistanceData.get_x_points();
        auto coreResistanceVector = windingCoreResistanceData.get_y_points();

        {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;

            outFile.append("Test_CircuitSimulatorExporter_Core_Resistance_Coefficients_Ladder_Theory.svg");
            std::filesystem::remove(outFile);
            Painter painter(outFile, false, true);
            painter.paint_curve(windingCoreResistanceData, true);
            painter.export_svg();
            CHECK(std::filesystem::exists(outFile));

        }
        for (size_t coefficientIndex = 0; coefficientIndex < coefficients.size(); ++coefficientIndex) {
            std::cout << coefficientIndex << std::endl;
            std::cout << coefficients[coefficientIndex] << std::endl;
        }

        std::vector<double> modeledCoreResistances;
        double errorAverage = 0;
        for (size_t index = 0; index < coreResistanceVector.size(); ++index) {
            double c[coefficients.size()];
            for (size_t coefficientIndex = 0; coefficientIndex < coefficients.size(); ++coefficientIndex) {
                c[coefficientIndex] = coefficients[coefficientIndex];
            }
            auto frequency = frequenciesVector[index];
            double modeledCoreResistance = CircuitSimulatorExporter::core_ladder_model(c, frequency, coreResistanceVector[0]);
            modeledCoreResistances.push_back(modeledCoreResistance);
            double error = fabs(coreResistanceVector[index] - modeledCoreResistance) / coreResistanceVector[index];
            errorAverage += error;
        }

        {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("Test_CircuitSimulatorExporter_Core_Resistance_Coefficients_Ladder_Modeled.svg");
            Painter painter(outFile, false, true);
            painter.paint_curve(Curve2D(frequenciesVector, modeledCoreResistances, "meh"));
            painter.export_svg();
        }

        errorAverage /= coreResistanceVector.size();
        std::cout << "errorAverage: " << errorAverage << std::endl;

        CHECK(0.2 > errorAverage);
    }

    TEST(Test_CircuitSimulatorExporter_Ltspice_Web_0) {

        std::string file_path = __FILE__;
        auto path = file_path.substr(0, file_path.rfind("/")).append("/testData/bug_dc_resistance_ltspice.json");
        auto mas = OpenMagneticsTesting::mas_loader(path);

        auto magnetic = mas.get_magnetic();

        auto cirFile = outputFilePath;
        cirFile.append("./Custom_component_made_with_OpenMagnetic.cir");
        std::filesystem::remove(cirFile);
        auto effectiveResistanceThisWinding_0 = WindingLosses::calculate_effective_resistance_of_winding(magnetic, 0, 0.1, 100);
        auto effectiveResistanceThisWinding_1 = WindingLosses::calculate_effective_resistance_of_winding(magnetic, 1, 0.1, 100);
        auto dcResistancePerWinding = WindingOhmicLosses::calculate_dc_resistance_per_winding(magnetic.get_coil(), 100);
        CHECK_CLOSE(effectiveResistanceThisWinding_0, dcResistancePerWinding[0], effectiveResistanceThisWinding_0 * max_error);
        CHECK_CLOSE(effectiveResistanceThisWinding_1, dcResistancePerWinding[1], effectiveResistanceThisWinding_1 * max_error);
    }
}

SUITE(CircuitSimulationReader) {
    double max_error = 0.01;
    bool plot = false;
    TEST(Test_Guess_Periodicity_Simba) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/simba_simulation.csv");

        std::ifstream is(simulation_path);
        std::vector<std::vector<double>> columns;
        std::vector<std::string> column_names;

        if(is.is_open()) {
            std::string line;
            while(getline(is, line)) {
                std::stringstream ss(line);
                std::string token;
                if (column_names.size() == 0) {
                    // Getting column names
                    while(getline(ss, token, ',')) {
                        column_names.push_back(token);
                        columns.push_back({});
                    }
                }
                else {
                    size_t currentColumnIndex = 0;
                    while(getline(ss, token, ',')) {
                        columns[currentColumnIndex].push_back(stod(token));
                        currentColumnIndex++;
                    }

                }
            }
            is.close();
        }
        else {
            throw std::runtime_error("File not found");
        }
        MAS::Waveform waveform;
        waveform.set_time(columns[0]);
        waveform.set_data(columns[1]);
        auto waveformOnePeriod = CircuitSimulationReader().get_one_period(waveform, 100000);
        CHECK_EQUAL(128U, waveformOnePeriod.get_data().size());
    }

    TEST(Test_Guess_Separator_Commas) {
        std::string row = "columns,separated,by,commas";
        CHECK_EQUAL(',', CircuitSimulationReader::guess_separator(row));
    }

    TEST(Test_Guess_Separator_Semicolon) {
        std::string row = "columns;separated;by;semicolon";
        CHECK_EQUAL(';', CircuitSimulationReader::guess_separator(row));
    }

    TEST(Test_Guess_Separator_Tabs) {
        std::string row = "columns\tseparated\tby\ttabs";
        CHECK_EQUAL('\t', CircuitSimulationReader::guess_separator(row));
    }

    TEST(Test_Guess_Separator_Simba) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/simba_simulation.csv");

        std::ifstream is(simulation_path);
        std::vector<std::vector<double>> columns;
        std::vector<std::string> column_names;

        if(is.is_open()) {
            std::string line;
            while(getline(is, line)) {
                CHECK_EQUAL(',', CircuitSimulationReader::guess_separator(line));
            }
        }
    }

    TEST(Test_Guess_Separator_Ltspice) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/ltspice_simulation.txt");

        std::ifstream is(simulation_path);
        std::vector<std::vector<double>> columns;
        std::vector<std::string> column_names;

        if(is.is_open()) {
            std::string line;
            while(getline(is, line)) {
                CHECK_EQUAL('\t', CircuitSimulationReader::guess_separator(line));
            }
        }
    }

    TEST(Test_Import_Csv_Rosano_Forward) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/forward_case.csv");

        double frequency = 200000;
        auto reader = CircuitSimulationReader(simulation_path);
        std::vector<std::map<std::string, std::string>> mapColumnNames;
        std::map<std::string, std::string> primaryColumnNames;
        std::map<std::string, std::string> secondaryColumnNames;
        primaryColumnNames["time"] = "Time";
        primaryColumnNames["current"] = "Ipri";
        primaryColumnNames["magnetizingCurrent"] = "Im";
        primaryColumnNames["voltage"] = "Vpri";
        mapColumnNames.push_back(primaryColumnNames);
        secondaryColumnNames["time"] = "Time";
        secondaryColumnNames["current"] = "Isec";
        secondaryColumnNames["voltage"] = "Vsec";
        mapColumnNames.push_back(secondaryColumnNames);
        auto operatingPoint = reader.extract_operating_point(2, frequency, mapColumnNames);

        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 121e-6);

        CHECK(operatingPoint.get_excitations_per_winding().size() == 2);
        auto primaryExcitation = operatingPoint.get_excitations_per_winding()[0];
        auto secondaryExcitation = operatingPoint.get_excitations_per_winding()[1];
        auto primaryCurrent = primaryExcitation.get_current().value();
        auto secondaryCurrent = secondaryExcitation.get_current().value();
        auto primaryMagnetizingCurrent = primaryExcitation.get_magnetizing_current().value();
        auto primaryVoltage = primaryExcitation.get_voltage().value();
        if (true) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("secondaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(secondaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (true) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (true) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryMagnetizingCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryMagnetizingCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (true) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryVoltage.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryVoltage.get_waveform().value());
            painter.export_svg();
        }
    }

    TEST(Test_Import_Csv_Rosano_Flyback) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/flyback_case.csv");

        double frequency = 200000;
        auto reader = CircuitSimulationReader(simulation_path);
        std::vector<std::map<std::string, std::string>> mapColumnNames;
        std::map<std::string, std::string> primaryColumnNames;
        std::map<std::string, std::string> secondaryColumnNames;
        primaryColumnNames["time"] = "Time";
        primaryColumnNames["current"] = "Ipri";
        primaryColumnNames["magnetizingCurrent"] = "Imag";
        primaryColumnNames["voltage"] = "Vpri";
        mapColumnNames.push_back(primaryColumnNames);
        secondaryColumnNames["time"] = "Time";
        secondaryColumnNames["current"] = "Isec";
        secondaryColumnNames["voltage"] = "Vsec";
        mapColumnNames.push_back(secondaryColumnNames);
        auto operatingPoint = reader.extract_operating_point(2, frequency, mapColumnNames);

        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 50e-6);

        CHECK(operatingPoint.get_excitations_per_winding().size() == 2);
        auto primaryExcitation = operatingPoint.get_excitations_per_winding()[0];
        auto secondaryExcitation = operatingPoint.get_excitations_per_winding()[1];
        auto primaryCurrent = primaryExcitation.get_current().value();
        auto secondaryCurrent = secondaryExcitation.get_current().value();
        auto primaryMagnetizingCurrent = primaryExcitation.get_magnetizing_current().value();
        auto primaryVoltage = primaryExcitation.get_voltage().value();
        auto secondaryVoltage = secondaryExcitation.get_voltage().value();
        if (true) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("secondaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(secondaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (true) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (true) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryMagnetizingCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryMagnetizingCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (true) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryVoltage.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryVoltage.get_waveform().value());
            painter.export_svg();
        }
        if (true) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("secondaryVoltage.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(secondaryVoltage.get_waveform().value());
            painter.export_svg();
        }
    }


    TEST(Test_Simba) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/simba_simulation.csv");

        double turnsRatio = 1.0 / 0.3;
        double frequency = 100000;
        auto reader = CircuitSimulationReader(simulation_path);
        auto operatingPoint = reader.extract_operating_point(2, frequency);
        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 220e-6);

        CHECK(operatingPoint.get_excitations_per_winding().size() == 2);
        auto primaryExcitation = operatingPoint.get_excitations_per_winding()[0];
        auto primaryFrequency = primaryExcitation.get_frequency();
        auto primaryCurrent = primaryExcitation.get_current().value();
        auto primaryVoltage = primaryExcitation.get_voltage().value();
        auto secondaryExcitation = operatingPoint.get_excitations_per_winding()[1];
        auto secondaryFrequency = secondaryExcitation.get_frequency();
        auto secondaryCurrent = secondaryExcitation.get_current().value();
        auto secondaryVoltage = secondaryExcitation.get_voltage().value();

        CHECK_EQUAL(frequency, primaryFrequency);
        CHECK_EQUAL(frequency, secondaryFrequency);
        CHECK_CLOSE(2.79694, primaryCurrent.get_processed().value().get_rms().value(), 2.79694 * max_error);
        CHECK_CLOSE(primaryCurrent.get_processed().value().get_rms().value() / turnsRatio, secondaryCurrent.get_processed().value().get_rms().value(), primaryCurrent.get_processed().value().get_rms().value() / turnsRatio * max_error);
        CHECK_CLOSE(13.1204, primaryVoltage.get_processed().value().get_rms().value(), 13.1204 * max_error);
        CHECK_CLOSE(primaryVoltage.get_processed().value().get_rms().value() * turnsRatio, secondaryVoltage.get_processed().value().get_rms().value(), primaryVoltage.get_processed().value().get_rms().value() * turnsRatio * max_error);

        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryVoltage.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryVoltage.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("secondaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(secondaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("secondaryVoltage.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(secondaryVoltage.get_waveform().value());
            painter.export_svg();
        }
    }

    TEST(Test_PFC_Only_Current) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/only_pfc_current_waveform.csv");

        double frequency = 50;
        auto reader = CircuitSimulationReader(simulation_path);
        auto operatingPoint = reader.extract_operating_point(2, frequency);
        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 110e-6);

        CHECK(operatingPoint.get_excitations_per_winding().size() == 1);
        auto primaryExcitation = operatingPoint.get_excitations_per_winding()[0];
        auto primaryCurrent = primaryExcitation.get_current().value();
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryCurrent.get_waveform().value());
            painter.export_svg();
        }
    }

    TEST(Test_Simba_File_Loaded) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/simba_simulation.csv");

        std::string file = "";
        std::string line;
        std::ifstream is(simulation_path);
        if(is.is_open()) {
            while(getline(is, line)) {
                file += line;
                file += "\n";
            }
            is.close();
        }
        else {
            throw std::runtime_error("File not found");
        }

        double turnsRatio = 1.0 / 0.3;
        double frequency = 100000;
        auto reader = CircuitSimulationReader(file);
        auto operatingPoint = reader.extract_operating_point(2, frequency);
        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 220e-6);

        CHECK(operatingPoint.get_excitations_per_winding().size() == 2);
        auto primaryExcitation = operatingPoint.get_excitations_per_winding()[0];
        auto primaryFrequency = primaryExcitation.get_frequency();
        auto primaryCurrent = primaryExcitation.get_current().value();
        auto primaryVoltage = primaryExcitation.get_voltage().value();
        auto secondaryExcitation = operatingPoint.get_excitations_per_winding()[1];
        auto secondaryFrequency = secondaryExcitation.get_frequency();
        auto secondaryCurrent = secondaryExcitation.get_current().value();
        auto secondaryVoltage = secondaryExcitation.get_voltage().value();

        CHECK_EQUAL(frequency, primaryFrequency);
        CHECK_EQUAL(frequency, secondaryFrequency);
        CHECK_CLOSE(2.79694, primaryCurrent.get_processed().value().get_rms().value(), 2.79694 * max_error);
        CHECK_CLOSE(primaryCurrent.get_processed().value().get_rms().value() / turnsRatio, secondaryCurrent.get_processed().value().get_rms().value(), primaryCurrent.get_processed().value().get_rms().value() / turnsRatio * max_error);
        CHECK_CLOSE(13.1204, primaryVoltage.get_processed().value().get_rms().value(), 13.1204 * max_error);
        CHECK_CLOSE(primaryVoltage.get_processed().value().get_rms().value() * turnsRatio, secondaryVoltage.get_processed().value().get_rms().value(), primaryVoltage.get_processed().value().get_rms().value() * turnsRatio * max_error);

        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryVoltage.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryVoltage.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("secondaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(secondaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("secondaryVoltage.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(secondaryVoltage.get_waveform().value());
            painter.export_svg();
        }
    }

    TEST(Test_Ltspice) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/ltspice_simulation.txt");

        double frequency = 372618;
        auto reader = CircuitSimulationReader(simulation_path);
        auto operatingPoint = reader.extract_operating_point(2, frequency);
        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 100e-6);

        CHECK(operatingPoint.get_excitations_per_winding().size() == 2);
        auto primaryExcitation = operatingPoint.get_excitations_per_winding()[0];
        auto primaryFrequency = primaryExcitation.get_frequency();
        auto primaryCurrent = primaryExcitation.get_current().value();
        auto primaryVoltage = primaryExcitation.get_voltage().value();
        auto secondaryExcitation = operatingPoint.get_excitations_per_winding()[1];
        auto secondaryFrequency = secondaryExcitation.get_frequency();
        auto secondaryCurrent = secondaryExcitation.get_current().value();
        auto secondaryVoltage = secondaryExcitation.get_voltage().value();

        CHECK_EQUAL(frequency, primaryFrequency);
        CHECK_EQUAL(frequency, secondaryFrequency);
        CHECK_CLOSE(0.0524431, primaryCurrent.get_processed().value().get_rms().value(), 0.0524431 * max_error);
        CHECK_CLOSE(0.4, secondaryCurrent.get_processed().value().get_rms().value(), 0.4 * max_error);
        CHECK_CLOSE(6, primaryVoltage.get_processed().value().get_rms().value(), 6 * max_error);
        CHECK_CLOSE(64, secondaryVoltage.get_processed().value().get_rms().value(), 64 * max_error);

        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryVoltage.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryVoltage.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("secondaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(secondaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("secondaryVoltage.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(secondaryVoltage.get_waveform().value());
            painter.export_svg();
        }
    }

    TEST(Test_Plecs) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/plecs_simulation.csv");

        double frequency = 50;
        auto reader = CircuitSimulationReader(simulation_path);
        auto operatingPoint = reader.extract_operating_point(1, frequency);

        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 100e-6);

        CHECK(operatingPoint.get_excitations_per_winding().size() == 1);
        auto primaryExcitation = operatingPoint.get_excitations_per_winding()[0];
        auto primaryFrequency = primaryExcitation.get_frequency();
        auto primaryCurrent = primaryExcitation.get_current().value();
        auto primaryVoltage = primaryExcitation.get_voltage().value();

        CHECK_EQUAL(frequency, primaryFrequency);
        CHECK_CLOSE(11.3, primaryCurrent.get_processed().value().get_rms().value(), 11.3 * max_error);
        CHECK_CLOSE(324, primaryVoltage.get_processed().value().get_rms().value(), 324 * max_error);

        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryVoltage.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryVoltage.get_waveform().value());
            painter.export_svg();
        }
    }

    TEST(Test_Plecs_Missing_Windings) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/wrong_plecs_simulation.csv");

        double frequency = 50;
        {
            auto reader = CircuitSimulationReader(simulation_path);
            auto operatingPoint = reader.extract_operating_point(1, frequency);

            operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 100e-6);

            CHECK(operatingPoint.get_excitations_per_winding().size() == 1);
            CHECK(!operatingPoint.get_excitations_per_winding()[0].get_current());
            CHECK(!operatingPoint.get_excitations_per_winding()[0].get_voltage());
        }
        {
            auto reader = CircuitSimulationReader(simulation_path);
            std::vector<std::map<std::string, std::string>> mapColumnNames;
            std::map<std::string, std::string> primaryColumnNames;
            primaryColumnNames["time"] = "IHave";
            primaryColumnNames["current"] = "no";
            primaryColumnNames["voltage"] = "idea";
            mapColumnNames.push_back(primaryColumnNames);
            auto operatingPoint = reader.extract_operating_point(1, frequency, mapColumnNames);
            operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 100e-6);

            CHECK(operatingPoint.get_excitations_per_winding().size() == 1);
            CHECK(operatingPoint.get_excitations_per_winding()[0].get_current());
            CHECK(operatingPoint.get_excitations_per_winding()[0].get_voltage());

            auto primaryExcitation = operatingPoint.get_excitations_per_winding()[0];
            auto primaryFrequency = primaryExcitation.get_frequency();
            auto primaryCurrent = primaryExcitation.get_current().value();
            auto primaryVoltage = primaryExcitation.get_voltage().value();

            CHECK_EQUAL(frequency, primaryFrequency);
            CHECK_CLOSE(11.3, primaryCurrent.get_processed().value().get_rms().value(), 11.3 * max_error);
            CHECK_CLOSE(324, primaryVoltage.get_processed().value().get_rms().value(), 324 * max_error);

            if (plot) {
                auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
                auto outFile = outputFilePath;
                outFile.append("primaryCurrent.svg");
                Painter painter(outFile, false, true);
                painter.paint_waveform(primaryCurrent.get_waveform().value());
                painter.export_svg();
            }
            if (plot) {
                auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
                auto outFile = outputFilePath;
                outFile.append("primaryVoltage.svg");
                Painter painter(outFile, false, true);
                painter.paint_waveform(primaryVoltage.get_waveform().value());
                painter.export_svg();
            }
        }
    }

    TEST(Test_Psim) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/psim_simulation.csv");

        double frequency = 120000;
        auto reader = CircuitSimulationReader(simulation_path);
        auto operatingPoint = reader.extract_operating_point(2, frequency);

        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 52e-6);

        CHECK(operatingPoint.get_excitations_per_winding().size() == 2);
        auto primaryExcitation = operatingPoint.get_excitations_per_winding()[0];
        auto primaryFrequency = primaryExcitation.get_frequency();
        auto primaryCurrent = primaryExcitation.get_current().value();
        auto primaryVoltage = primaryExcitation.get_voltage().value();
        auto secondaryExcitation = operatingPoint.get_excitations_per_winding()[1];
        auto secondaryCurrent = secondaryExcitation.get_current().value();
        auto secondaryVoltage = secondaryExcitation.get_voltage().value();

        CHECK_EQUAL(frequency, primaryFrequency);
        CHECK_CLOSE(1.25, primaryCurrent.get_processed().value().get_rms().value(), 1.25 * max_error);
        CHECK_CLOSE(29.7, primaryVoltage.get_processed().value().get_rms().value(), 29.7 * max_error);

        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("primaryVoltage.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(primaryVoltage.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("secondaryCurrent.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(secondaryCurrent.get_waveform().value());
            painter.export_svg();
        }
        if (plot) {
            auto outputFilePath = std::filesystem::path {__FILE__}.parent_path().append("..").append("output");
            auto outFile = outputFilePath;
            outFile.append("secondaryVoltage.svg");
            Painter painter(outFile, false, true);
            painter.paint_waveform(secondaryVoltage.get_waveform().value());
            painter.export_svg();
        }
    }

    TEST(Test_Psim_Harmonics_Size_Error) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/psim_simulation.csv");

        double frequency = 100000;
        auto reader = CircuitSimulationReader(simulation_path);
        auto operatingPoint = reader.extract_operating_point(2, frequency);

        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 0.0001);

        auto commonHarmonicIndexes = get_main_harmonic_indexes(operatingPoint, 0.05);
        CHECK_EQUAL(49U, commonHarmonicIndexes.back());
    }

    TEST(Test_Simba_Column_Names) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/simba_simulation.csv");

        double frequency = 100000;
        auto reader = CircuitSimulationReader(simulation_path);
        auto mapColumnNames = reader.extract_map_column_names(2, frequency);

        CHECK(mapColumnNames.size() == 2);
        CHECK(!mapColumnNames[0]["time"].compare("Time [s]"));
        CHECK(!mapColumnNames[0]["current"].compare("TX1 - W2 - Current [A]"));
        CHECK(!mapColumnNames[0]["voltage"].compare("TX1 - W2 - Voltage [V]"));
        CHECK(!mapColumnNames[1]["time"].compare("Time [s]"));
        CHECK(!mapColumnNames[1]["current"].compare("TX1 - W5 - Current [A]"));
        CHECK(!mapColumnNames[1]["voltage"].compare("TX1 - W5 - Voltage [V]"));
    }

    TEST(Test_Ltspice_Column_Names) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/ltspice_simulation.txt");

        double frequency = 372618;
        auto reader = CircuitSimulationReader(simulation_path);
        auto mapColumnNames = reader.extract_map_column_names(2, frequency);

        CHECK(mapColumnNames.size() == 2);
        CHECK(!mapColumnNames[0]["time"].compare("time"));
        CHECK(!mapColumnNames[0]["current"].compare("I(L1)"));
        CHECK(!mapColumnNames[0]["voltage"].compare("V(n001)"));
        CHECK(!mapColumnNames[1]["time"].compare("time"));
        CHECK(!mapColumnNames[1]["current"].compare("I(L2)"));
        CHECK(!mapColumnNames[1]["voltage"].compare("V(n002)"));
    }

    TEST(Test_Plecs_Column_Names) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/plecs_simulation.csv");

        double frequency = 50;
        auto reader = CircuitSimulationReader(simulation_path);
        auto mapColumnNames = reader.extract_map_column_names(1, frequency);

        CHECK(mapColumnNames.size() == 1);
        CHECK(!mapColumnNames[0]["time"].compare("Time / s"));
        CHECK(!mapColumnNames[0]["current"].compare("L2:Inductor current"));
        CHECK(!mapColumnNames[0]["voltage"].compare("L2:Inductor voltage"));
    }

    TEST(Test_Plecs_Web) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/plecs_simulation.csv");

        double frequency = 50;
        auto reader = CircuitSimulationReader(simulation_path); 
        std::string mapColumnNamesString = R"([{"current":"L2:Inductor current","time":"Time / s","voltage":"L2:Inductor voltage"}])";

        std::vector<std::map<std::string, std::string>> mapColumnNames = json::parse(mapColumnNamesString).get<std::vector<std::map<std::string, std::string>>>();


        auto operatingPoint = reader.extract_operating_point(1, frequency, mapColumnNames);
        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 100e-6);

        CHECK(mapColumnNames.size() == 1);
        CHECK(!mapColumnNames[0]["time"].compare("Time / s"));
        CHECK(!mapColumnNames[0]["current"].compare("L2:Inductor current"));
        CHECK(!mapColumnNames[0]["voltage"].compare("L2:Inductor voltage"));
    }

    TEST(Test_Plecs_Column_Names_Missing_Windings) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/wrong_plecs_simulation.csv");

        double frequency = 50;
        auto reader = CircuitSimulationReader(simulation_path);
        auto mapColumnNames = reader.extract_map_column_names(2, frequency);

        CHECK(mapColumnNames.size() == 2);
        CHECK(!mapColumnNames[0]["current"].compare(""));
        CHECK(!mapColumnNames[0]["voltage"].compare(""));
        CHECK(!mapColumnNames[1]["current"].compare(""));
        CHECK(!mapColumnNames[1]["voltage"].compare(""));
    }

    TEST(Test_Psim_Column_Names) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/psim_simulation.csv");

        double frequency = 120000;
        auto reader = CircuitSimulationReader(simulation_path);
        auto mapColumnNames = reader.extract_map_column_names(2, frequency);

        CHECK(mapColumnNames.size() == 2);
        CHECK(!mapColumnNames[0]["time"].compare("Time"));
        CHECK(!mapColumnNames[0]["current"].compare("Ipri"));
        CHECK(!mapColumnNames[0]["voltage"].compare("Vpri"));
        CHECK(!mapColumnNames[1]["time"].compare("Time"));
        CHECK(!mapColumnNames[1]["current"].compare("Isec"));
        CHECK(!mapColumnNames[1]["voltage"].compare("Vsec"));
    }


    TEST(Test_Extract_Column_Names_Web_0) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/test_web_0.csv");

        std::string file = "";
        std::string line;
        std::ifstream is(simulation_path);
        if(is.is_open()) {
            while(getline(is, line)) {
                file += line;
                file += "\n";
            }
            is.close();
        }
        else {
            throw std::runtime_error("File not found");
        }

        double frequency = 250000;
        auto reader = CircuitSimulationReader(simulation_path);
        auto mapColumnNames = reader.extract_map_column_names(2, frequency);

        CHECK(mapColumnNames.size() == 2);
        CHECK(!mapColumnNames[0]["time"].compare("Time / s"));
        CHECK(!mapColumnNames[0]["current"].compare("I_trafo_HV"));
        CHECK(!mapColumnNames[0]["voltage"].compare("U_trafo_HV"));
        CHECK(!mapColumnNames[1]["time"].compare("Time / s"));
        CHECK(!mapColumnNames[1]["current"].compare("I_trafo_LV"));
        CHECK(!mapColumnNames[1]["voltage"].compare("U_trafo_LV"));
    }

    TEST(Test_Import_Csv_Web_0) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/test_web_0.csv");

        double frequency = 250000;
        auto reader = CircuitSimulationReader(simulation_path);
        auto operatingPoint = reader.extract_operating_point(2, frequency);

        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 10e-6);

        CHECK(operatingPoint.get_excitations_per_winding().size() == 2);
    }

    TEST(Test_Import_Csv_Web_1) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/test_web_1.csv");

        double frequency = 919963.201472;
        auto reader = CircuitSimulationReader(simulation_path);
        auto operatingPoint = reader.extract_operating_point(2, frequency);

        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 10e-6);

        CHECK(operatingPoint.get_excitations_per_winding().size() == 2);
    }

    TEST(Test_Import_Csv_Web_2) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/test_web_2.csv");

        double frequency = 1e6;
        auto reader = CircuitSimulationReader(simulation_path);
        auto operatingPoint = reader.extract_operating_point(2, frequency);

        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 10e-6);

        CHECK(operatingPoint.get_excitations_per_winding().size() == 2);
    }

    TEST(Test_Import_Csv_Web_3) {
        std::string file_path = __FILE__;
        auto simulation_path = file_path.substr(0, file_path.rfind("/")).append("/testData/test_web_3.csv");

        double frequency = 50e3;
        auto reader = CircuitSimulationReader(simulation_path);
        auto operatingPoint = reader.extract_operating_point(2, frequency);

        operatingPoint = OpenMagnetics::Inputs::process_operating_point(operatingPoint, 10e-6);

        CHECK(operatingPoint.get_excitations_per_winding().size() == 2);
    }
}
